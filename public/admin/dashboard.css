:root {
      --bg: #f6f8fb;
      --bg-2: #eef2f7;
      --panel: #ffffff;
      --panel-strong: rgba(15, 23, 42, 0.08);
      --card: #ffffff;
      --card-strong: #f9fbff;
      --border: rgba(15, 23, 42, 0.08);
      --frost: rgba(15, 23, 42, 0.04);
      --text: #1c2430;
      --muted: #5c6674;
      --accent: #10a37f;
      --accent-2: #0f8b6c;
      --accent-rgb: 16, 163, 127;
      --danger: #dc2f45;
      --success: #0f8b6c;
      --warning: #d19a00;
      --shadow: 0 12px 32px rgba(15, 23, 42, 0.08);
      --table-row: rgba(15, 23, 42, 0.02);
      --table-row-alt: rgba(15, 23, 42, 0.04);
      --accent-soft: rgba(var(--accent-rgb), 0.08);
      --accent-soft-2: rgba(16, 163, 127, 0.12);
      --accent-ring: rgba(var(--accent-rgb), 0.25);
      --surface-tint: linear-gradient(180deg, #fefeff, #f6f8fb);
      --table-header: linear-gradient(135deg, #f0f4f9, #eef2f7);
      --table-hover: rgba(255, 184, 117, 0.25);
      --accent-gradient: linear-gradient(135deg, #10a37f, #0b745c);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Space Grotesk', 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
      background:
        radial-gradient(circle at 12% -15%, rgba(16, 163, 127, 0.08), transparent 45%),
        radial-gradient(circle at 80% 0%, rgba(62, 114, 255, 0.08), transparent 50%),
        linear-gradient(160deg, var(--bg), var(--bg-2));
      color: var(--text);
      min-height: 100vh;
      line-height: 1.5;
      position: relative;
      overflow-x: hidden;
      background-attachment: fixed;
    }
    .glow {
      position: fixed;
      width: 360px;
      height: 360px;
      border-radius: 50%;
      filter: blur(140px);
      opacity: 0.18;
      pointer-events: none;
      z-index: 0;
    }
    .glow-a {
      background: radial-gradient(circle, rgba(16, 163, 127, 0.22), transparent 70%);
      top: -120px;
      left: -60px;
    }
    .glow-b {
      background: radial-gradient(circle, rgba(62, 114, 255, 0.2), transparent 70%);
      bottom: -180px;
      right: -80px;
    }
    .app {
      min-height: 100vh;
      width: 100%;
      display: flex;
      justify-content: center;
      padding: 0 18px;
      position: relative;
      z-index: 1;
    }
    .sidebar { display: none; }
    .sidebar .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 28px;
      padding: 10px 12px;
      border-radius: 14px;
      background: var(--panel);
      border: 1px solid var(--border);
    }
    .avatar {
      width: 48px; height: 48px;
      border-radius: 16px;
      background: radial-gradient(circle at 30% 30%, #4d9dff 0%, #10233a 72%);
      display: grid;
      place-items: center;
      color: #e8f5ff;
      font-weight: 800;
      letter-spacing: -0.04em;
      box-shadow: 0 8px 30px rgba(var(--accent-rgb),0.35);
    }
    .brand-text { display: flex; flex-direction: column; gap: 2px; }
    .brand-text h1 { margin: 0; font-size: 18px; letter-spacing: 0.3px; }
    .brand-text span { color: var(--muted); font-size: 13px; }
    .nav-links { display: grid; gap: 6px; }
    .nav-link {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 14px;
      color: var(--text);
      text-decoration: none;
      border-radius: 12px;
      border: 1px solid transparent;
      background: transparent;
      transition: background 0.2s ease, border-color 0.2s ease;
      font-weight: 600;
      letter-spacing: 0.1px;
    }
    .nav-link:hover { background: rgba(15,23,42,0.05); border-color: rgba(15,23,42,0.12); }
    .nav-link.active { background: linear-gradient(135deg, var(--accent-soft-2), var(--accent-soft)); border-color: var(--accent-ring); box-shadow: 0 8px 28px rgba(var(--accent-rgb),0.2); }
    .nav-icon {
      width: 14px; height: 14px; border-radius: 4px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 0 0 6px var(--accent-ring);
    }
    .content { padding: 32px 18px 56px; width: 100%; max-width: 1220px; margin: 0 auto; }
    .topbar {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 10px 14px;
      margin: 0 0 16px;
      padding: 16px 18px;
      max-width: 1220px;
      width: 100%;
      position: sticky;
      top: 0;
      z-index: 20;
      background: var(--panel);
      border: 1px solid rgba(15,23,42,0.08);
      box-shadow: 0 10px 30px rgba(15,23,42,0.08);
      border-radius: 20px;
    }
    .title-line { display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
    .title-line h2 { margin:0; font-size: 26px; letter-spacing: -0.5px; color: var(--text); }
    .brand-logo {
      width: 36px;
      height: 36px;
      border-radius: 10px;
      background: #ffffff;
      border: 1px solid rgba(15,23,42,0.08);
      padding: 6px;
      box-shadow: 0 8px 20px rgba(15,23,42,0.1);
      object-fit: contain;
    }
    .pill-ghost {
      background: rgba(15,23,42,0.04);
      color: var(--text);
      border: 1px solid rgba(15,23,42,0.12);
      padding: 6px 12px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 13px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    #mtls.pill { align-self: center; }
    .action-line {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: flex-end;
    }
    .nav-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 14px;
      min-height: 40px;
      border-radius: 12px;
      border: 1px solid rgba(var(--accent-rgb),0.55);
      background: var(--accent-gradient);
      color: #f2f6ff;
      font-weight: 800;
      letter-spacing: -0.2px;
      text-decoration: none;
      box-shadow: 0 15px 35px rgba(var(--accent-rgb),0.35);
      transition: transform 0.08s ease, box-shadow 0.12s ease, background 0.12s ease, border-color 0.12s ease, opacity 0.12s ease;
    }
    .nav-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 20px 45px rgba(var(--accent-rgb),0.45);
      background: linear-gradient(130deg, #0c8b66, #0a5f47);
      border-color: rgba(var(--accent-rgb),0.8);
    }
    .muted { color: var(--muted); font-size: 13px; }
    main.main { padding-bottom: 32px; }
    .grid { display: grid; gap: 14px; }
    .metrics { grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }
    .card {
      background: var(--card);
      border: 1px solid rgba(15,23,42,0.08);
      border-radius: 16px;
      padding: 18px;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }
    .stat-head { display:flex; justify-content: space-between; align-items:center; gap:10px; }
    .stat-label { color: var(--muted); font-size: 12px; text-transform: uppercase; letter-spacing: 0.08em; }
    .stat-badge {
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(15,23,42,0.07);
      border: 1px solid rgba(15,23,42,0.14);
      font-weight: 700;
      font-size: 12px;
      color: var(--text);
    }
    .card .stat-value { font-size: 32px; font-weight: 800; margin: 6px 0; letter-spacing: -0.3px; text-align: center; }
    .card small { color: var(--muted); display: block; text-align: center; }
    .spark {
      position:absolute;
      right: 14px; bottom: 12px;
      width: 72px; height: 32px;
      opacity: 0.65;
    }
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 10px;
      margin-top: 12px;
    }
    .info-box {
      padding: 12px;
      border-radius: 12px;
      border: 1px solid var(--accent-ring);
      background: var(--accent-soft);
      box-shadow: 0 8px 20px rgba(var(--accent-rgb),0.12);
    }
    .info-label {
      color: var(--accent-2);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
      font-weight: 700;
    }
    .info-value {
      margin-top: 6px;
      font-weight: 800;
      font-size: 18px;
      letter-spacing: -0.2px;
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }
    .info-subtext {
      margin-top: 4px;
      color: var(--muted);
      font-size: 13px;
    }
    .ghost.info-btn {
      width: 36px;
      height: 32px;
      min-height: 32px;
      padding: 0;
      display: grid;
      place-items: center;
      font-size: 18px;
      line-height: 1;
      background: var(--card-strong);
      color: var(--text);
    }
    .ghost.info-btn:hover { background: var(--panel-strong); }
    .upgrade-notes {
      margin: 8px 0 12px;
      padding: 12px;
      background: var(--frost);
      border: 1px solid var(--panel-strong);
      border-radius: 10px;
      white-space: pre-wrap;
      max-height: 360px;
      overflow: auto;
    }
    .upgrade-notes.error { color: var(--danger); }
    .panel { margin-top: 20px; background: var(--panel); border-radius: 20px; border: 1px solid rgba(15,23,42,0.08); box-shadow: var(--shadow); }
    .panel-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
      flex-wrap: wrap;
      border-bottom: 1px solid rgba(15,23,42,0.06);
      padding: 16px 18px;
    }
    .panel-head h2 { margin: 0; font-size: 22px; letter-spacing: -0.2px; }
    .panel-actions { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .panel-actions input,
    .panel-actions select {
      background: #fff;
      border: 1px solid rgba(15,23,42,0.12);
      color: var(--text);
      padding: 10px 14px;
      border-radius: 12px;
      font-size: 14px;
      min-width: 200px;
    }
    .panel-actions input:focus,
    .panel-actions select:focus { outline: 1px solid var(--accent); }
    .settings-panel .settings-grid {
      display: grid;
      gap: 16px;
      padding: 18px;
    }
    .settings-panel .setting-block {
      background: var(--surface-tint);
      border: 1px solid rgba(15,23,42,0.08);
      border-radius: 16px;
      padding: 16px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.7), 0 10px 18px rgba(15,23,42,0.05);
    }
    .settings-panel .setting-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 18px;
      flex-wrap: wrap;
    }
    .settings-panel .setting-head h3 {
      margin: 0;
      font-size: 18px;
    }
    .settings-panel .setting-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 12px;
    }
    .settings-panel .setting-actions button {
      flex: 1;
      min-width: 180px;
    }
    .settings-panel.settings-collapsed .settings-grid {
      display: none;
    }
    .quota-limit-control {
      margin-top: 14px;
      border: 1px solid rgba(15,23,42,0.1);
      border-radius: 12px;
      padding: 12px 14px;
      background: rgba(15,23,42,0.02);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .quota-limit-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    .quota-limit-value {
      font-weight: 700;
      font-size: 18px;
    }
    .quota-limit-slider {
      width: 100%;
      accent-color: #f97316;
    }
    .quota-limit-foot {
      margin: 0;
      font-size: 12px;
    }
    .quota-partition-control {
      margin-top: 10px;
      border: 1px solid rgba(15,23,42,0.1);
      border-radius: 12px;
      padding: 12px 14px;
      background: rgba(15,23,42,0.015);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .quota-partition-select {
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid rgba(15,23,42,0.2);
      font-size: 14px;
      background: #fff;
    }
    .memory-controls {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin: 10px 0 12px;
      align-items: flex-end;
    }
    .memory-controls .field {
      margin: 0;
      min-width: 180px;
    }
    .memory-controls .narrow-field {
      max-width: 120px;
      min-width: 110px;
    }
    .memory-controls input,
    .memory-controls select {
      width: 100%;
    }
    #memories td.codeish {
      font-family: 'JetBrains Mono', 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
      font-size: 12px;
      letter-spacing: -0.02em;
    }
    #memories .tag-badge {
      display: inline-flex;
      align-items: center;
      padding: 2px 8px;
      background: var(--accent-soft);
      color: var(--accent-2);
      border-radius: 999px;
      font-size: 12px;
      margin: 0 4px 4px 0;
      border: 1px solid var(--border);
    }
    button {
      border: 1px solid rgba(var(--accent-rgb),0.45);
      border-radius: 12px;
      padding: 11px 18px;
      font-weight: 700;
      cursor: pointer;
      background: var(--accent-gradient);
      color: #f2f6ff;
      box-shadow: 0 15px 40px rgba(var(--accent-rgb),0.3);
      transition: transform 0.08s ease, box-shadow 0.12s ease, opacity 0.12s ease, background 0.12s ease, border-color 0.12s ease;
      min-height: 40px;
    }
    button:disabled { opacity: 0.6; cursor: not-allowed; box-shadow: none; }
    button:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 24px 55px rgba(var(--accent-rgb),0.4);
      background: linear-gradient(130deg, #0fb17f, #0a7b5a);
      border-color: rgba(var(--accent-rgb),0.75);
    }
    button.ghost {
      background: #ffffff;
      color: var(--text);
      border: 1px solid rgba(15,23,42,0.12);
      box-shadow: none;
    }
    button.ghost:hover:not(:disabled) {
      background: rgba(var(--accent-rgb),0.08);
      border-color: rgba(var(--accent-rgb),0.35);
      color: var(--text);
    }
    .api-enabled {
      background: rgba(82, 242, 196, 0.12);
      color: var(--success);
      border-color: rgba(82,242,196,0.4);
      box-shadow: 0 0 30px rgba(82,242,196,0.25);
    }
    .api-enabled:hover:not(:disabled) {
      background: rgba(82,242,196,0.2);
      border-color: rgba(82,242,196,0.6);
    }
    .api-disabled {
      background: rgba(255, 208, 103, 0.12);
      color: var(--warning);
      border-color: rgba(255,208,103,0.45);
      box-shadow: 0 0 30px rgba(255,208,103,0.2);
    }
    .api-disabled:hover:not(:disabled) {
      background: rgba(255,208,103,0.2);
      border-color: rgba(255,208,103,0.65);
    }
    .runner-accent {
      background: linear-gradient(125deg, rgba(var(--accent-rgb),0.95), rgba(16,38,70,0.95));
      color: #ecf6ff;
      border-color: rgba(var(--accent-rgb),0.6);
      box-shadow: 0 15px 30px rgba(var(--accent-rgb),0.35);
    }
    .runner-accent:hover:not(:disabled) {
      background: linear-gradient(125deg, rgba(var(--accent-rgb),0.95), rgba(11,26,46,0.95));
      border-color: rgba(var(--accent-rgb),0.75);
      box-shadow: 0 22px 40px rgba(var(--accent-rgb),0.4);
    }
    .runner-ghost {
      border-color: rgba(var(--accent-rgb),0.35);
      color: var(--success);
    }
    .runner-log {
      background: #f8fbff;
      color: #1f2933;
      border-radius: 12px;
      padding: 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      line-height: 1.5;
      max-height: 260px;
      overflow: auto;
      border: 1px solid rgba(15,23,42,0.08);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.7), 0 12px 28px rgba(15,23,42,0.06);
      background-image: radial-gradient(circle at 20% 20%, rgba(var(--accent-rgb),0.08), transparent 42%);
    }
    .runner-log .line { display: block; margin: 0; padding: 2px 0; }
    .runner-log .line.ok { color: #22c55e; }
    .runner-log .line.warn { color: #f59e0b; }
    .runner-log .line.err { color: #f87171; }
    .runner-meta { display: grid; gap: 6px; margin-top: 10px; font-size: 14px; }
    .runner-meta .label { color: var(--muted); font-size: 12px; text-transform: uppercase; letter-spacing: 0.08em; }
    .runner-actions { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; margin: 10px 0 6px; }
    .runner-actions .ok-btn[aria-pressed="true"] { background: rgba(82,242,196,0.18); border-color: rgba(82,242,196,0.45); color: var(--success); }
    .runner-actions .fail-btn[aria-pressed="true"] { background: rgba(255,93,122,0.16); border-color: rgba(255,93,122,0.4); color: var(--danger); }
    .runner-actions button { font-weight: 800; letter-spacing: 0.03em; }
    .runner-status-row { display: flex; gap: 8px; align-items: center; }
    .runner-status-row .muted { font-size: 13px; }
    button.secondary {
      background: linear-gradient(135deg, #ffffff, #f5f7fb);
      color: var(--text);
      border: 1px solid rgba(15,23,42,0.1);
      box-shadow: 0 6px 20px rgba(15,23,42,0.08);
    }
    button.danger {
      background: linear-gradient(135deg, #f86574, #dc2f45);
      color: #fff;
      border-color: rgba(220,47,69,0.8);
      box-shadow: 0 18px 40px rgba(220,47,69,0.25);
    }
    .tiny-btn {
      padding: 7px 10px;
      font-size: 12px;
      border-radius: 10px;
      min-width: 0;
      line-height: 1.1;
    }
    .table-wrap { margin-top: 0; border-radius: 18px; overflow: hidden; border: 1px solid rgba(15,23,42,0.08); background: var(--surface-tint); box-shadow: var(--shadow); }
    table { width: 100%; min-width: 960px; border-collapse: collapse; }
    thead { background: var(--table-header); border-bottom: 1px solid rgba(15,23,42,0.08); }
    th, td { padding: 14px 12px; text-align: left; font-size: 13px; white-space: nowrap; }
    th { color: var(--muted); font-weight: 600; letter-spacing: 0.02em; text-transform: none; font-size: 13px; }
    .sort-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--muted);
      font-weight: 600;
      cursor: pointer;
      padding: 2px 0;
    }
    .sort-link .sort-indicator { font-size: 12px; opacity: 0.6; }
    .sort-link:hover,
    .sort-link:focus-visible { color: var(--text); outline: none; }
    .sort-link.sorted { color: var(--text); }
    .sort-link.sorted .sort-indicator { opacity: 1; }
    tbody tr { transition: background 0.12s ease, box-shadow 0.12s ease; background: var(--table-row-alt); }
    tbody tr:nth-child(odd) { background: var(--table-row); }
    tbody tr:hover { box-shadow: 0 12px 26px rgba(15,23,42,0.14); }
    tbody tr:not(.status-ok):not(.status-warning):not(.status-critical):hover { background: var(--table-hover); }
    .status-ok { background: linear-gradient(90deg, rgba(82,242,196,0.2), rgba(23,74,68,0.2)); }
    .status-ok:nth-child(even) { background: linear-gradient(90deg, rgba(52,178,141,0.24), rgba(16,48,52,0.3)); }
    .status-warning { background: linear-gradient(90deg, rgba(255,208,103,0.18), rgba(66,44,12,0.35)); }
    .status-warning:nth-child(even) { background: linear-gradient(90deg, rgba(255,170,82,0.2), rgba(62,32,5,0.25)); }
    .status-critical { background: linear-gradient(90deg, rgba(255,93,122,0.2), rgba(63,10,24,0.35)); }
    .status-critical:nth-child(even) { background: linear-gradient(90deg, rgba(255,77,141,0.22), rgba(62,8,32,0.3)); }
    .usage-plan.pro-plan { color: var(--success); font-weight: 800; letter-spacing: 0.02em; }
    .inline-cell { display: inline-flex; align-items: center; gap: 8px; white-space: nowrap; }
    .ip-toggle {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      margin: 0 4px 0 2px;
      border: none;
      background: none;
      font-size: 16px;
      cursor: pointer;
      line-height: 1;
      color: var(--text);
    }
    .ip-indicator { font-size: 16px; line-height: 1; opacity: 0.8; }
    .pill {
      padding: 6px 12px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 12px;
      color: var(--text);
      border: 1px solid rgba(15,23,42,0.15);
      background: rgba(15,23,42,0.05);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .pill.success { color: var(--success); border-color: rgba(82,242,196,0.4); background: rgba(82,242,196,0.12); }
    .pill.error { color: var(--danger); border-color: rgba(255,93,122,0.4); background: rgba(255,93,122,0.15); }
    .status-pill {
      display: inline-flex;
      align-items: center;
      padding: 4px 10px;
      border-radius: 999px;
      font-weight: 700;
      text-transform: capitalize;
      gap: 6px;
      font-size: 12px;
      border: 1px solid transparent;
    }
    .status-pill::before {
      content: '';
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    .status-active { background: rgba(82,242,196,0.12); color: var(--success); border-color: rgba(82,242,196,0.4); }
    .status-active::before { background: var(--success); }
    .status-suspended { background: rgba(255,93,122,0.14); color: var(--danger); border-color: rgba(255,93,122,0.4); }
    .status-suspended::before { background: var(--danger); }
    .status-unknown { background: rgba(155,179,217,0.12); color: var(--muted); border-color: rgba(155,179,217,0.3); }
    #hosts thead {
      background: linear-gradient(135deg, rgba(var(--accent-rgb),0.15), rgba(var(--accent-rgb),0.05));
      border-bottom: 1px solid rgba(var(--accent-rgb),0.35);
    }
    #hosts th {
      color: var(--accent-2);
      letter-spacing: 0.04em;
      text-transform: uppercase;
      font-size: 12px;
    }
    #hosts tbody tr {
      background: rgba(var(--accent-rgb),0.04);
    }
    #hosts tbody tr:nth-child(odd) {
      background: rgba(var(--accent-rgb),0.08);
    }
    #hosts tbody tr:hover {
      background: rgba(var(--accent-rgb),0.15) !important;
      box-shadow: 0 10px 22px rgba(var(--accent-rgb),0.25);
    }
    #hosts .status-warning,
    #hosts .status-critical {
      background: rgba(var(--accent-rgb),0.15);
      color: var(--text);
      border-color: rgba(var(--accent-rgb),0.4);
    }
    #hosts .status-warning::before,
    #hosts .status-critical::before {
      background: var(--accent);
    }
    .actions-cell { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; justify-content: flex-end; }
    .actions-cell button { padding: 9px 12px; font-size: 12px; }
    .chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 5px 10px;
      border-radius: 10px;
      font-size: 12px;
      font-weight: 700;
      border: 1px solid rgba(15,23,42,0.14);
      background: rgba(15,23,42,0.05);
    }
    code { background: #f0f4f9; padding: 2px 6px; border-radius: 6px; font-family: 'JetBrains Mono', 'SFMono-Regular', Consolas, monospace; font-size: 12px; color: var(--text); border: 1px solid rgba(15,23,42,0.1); }
    .chip.ok { color: var(--success); border-color: rgba(82,242,196,0.45); background: rgba(82,242,196,0.12); }
    .chip.warn { color: var(--warning); border-color: rgba(255,208,103,0.4); background: rgba(255,208,103,0.12); }
    .chip.neutral { color: var(--muted); border-color: rgba(155,179,217,0.35); background: rgba(155,179,217,0.12); }
    .chip.pro {
      color: var(--accent);
      border-color: var(--accent-ring);
      background: var(--accent-soft);
      box-shadow: 0 6px 20px rgba(var(--accent-rgb),0.2);
    }
    .daily-note { font-size: 11px; color: var(--muted); margin-left: 6px; }
    .overline { margin: 0 0 4px; text-transform: uppercase; letter-spacing: 0.12em; font-size: 11px; }
    .chip-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 6px; }
    /* Slash commands table follows shared palette */
    #prompts-panel table thead tr {
      background: var(--table-header);
      border-bottom: 1px solid var(--accent-ring);
    }
    #prompts-panel table th {
      color: var(--accent-2);
      letter-spacing: 0.08em;
    }
    #prompts-panel tbody tr:nth-child(odd) { background: var(--table-row); }
    #prompts-panel tbody tr:nth-child(even) { background: var(--table-row-alt); }
    #prompts-panel tbody tr { border-bottom: 1px solid var(--panel-strong); }
    #prompts-panel tbody td code {
      background: rgba(var(--accent-rgb),0.12);
      color: var(--accent);
      border: 1px solid rgba(var(--accent-rgb),0.25);
    }
    .error { color: var(--danger); font-weight: 700; }
    /* Modal */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(246,248,251,0.85);
      backdrop-filter: blur(6px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 20;
      padding: 24px;
    }
    .modal-backdrop.show { display: flex; }
    .modal {
      background: #ffffff;
      border-radius: 20px;
      box-shadow: 0 25px 90px rgba(15,23,42,0.12);
      max-width: 520px;
      width: 100%;
      padding: 24px;
      color: var(--text);
      border: 1px solid rgba(15,23,42,0.08);
    }
    .modal h3 { margin: 0 0 8px; }
    .modal p { margin: 0 0 16px; color: var(--muted); }
    .modal .field { margin-bottom: 16px; display: flex; flex-direction: column; gap: 6px; }
    .modal input,
    .modal textarea {
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid rgba(15,23,42,0.12);
      background: #fff;
      color: var(--text);
      font-size: 14px;
    }
    .modal textarea {
      resize: vertical;
      min-height: 200px;
      font-family: 'Space Grotesk', 'Inter', system-ui, sans-serif;
      line-height: 1.4;
    }
    .modal input:focus,
    .modal textarea:focus { outline: 1px solid var(--accent); }
    .agents-modal {
      max-width: 880px;
      width: min(920px, 95vw);
    }
    .agents-modal textarea {
      min-height: 420px;
      font-family: 'JetBrains Mono', monospace;
    }
    .modal .actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 10px; }
    .seed-modal { border: 1px solid var(--border); }
    .seed-status {
      margin: 12px 0;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid var(--accent-ring);
      background: var(--accent-soft);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .seed-chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
      color: var(--text);
      letter-spacing: -0.01em;
    }
    .seed-chip .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--warning);
      box-shadow: 0 0 0 6px rgba(245, 158, 11, 0.15);
    }
    .seed-chip.ok { color: var(--accent); }
    .seed-chip.ok .dot {
      background: var(--accent);
      box-shadow: 0 0 0 6px rgba(var(--accent-rgb), 0.18);
    }
    .seed-chip.warn { color: var(--danger); }
    .seed-chip.warn .dot {
      background: var(--danger);
      box-shadow: 0 0 0 6px rgba(255, 93, 122, 0.18);
    }
    .command-box {
      background: #f7f9fc;
      color: var(--text);
      padding: 14px;
      border-radius: 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      word-break: break-all;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      border: 1px solid rgba(15,23,42,0.08);
    }
    .copy-btn {
      border: 1px solid rgba(15,23,42,0.12);
      color: var(--text);
      background: #ffffff;
      padding: 8px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 12px;
    }
    .cmd-text { flex: 1; }
    .chip small { color: var(--muted); font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; }
    /* Toggle */
    .toggle { display: none; }
    .host-cell { display: flex; flex-direction: column; gap: 4px; }
    .host-cell strong { font-size: 15px; }
    .token-cell { display: flex; flex-direction: column; gap: 6px; }
    .meter { width: 100%; height: 4px; border-radius: 999px; background: rgba(15,23,42,0.05); overflow: hidden; }
    .meter span { display: block; height: 100%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); }
    .digest-cell { display: flex; flex-direction: column; gap: 6px; }
    .empty-row td { text-align: center; padding: 40px 12px; color: var(--muted); font-size: 15px; }
    .usage-card { margin-top: 10px; }
    .usage-head { display: flex; justify-content: space-between; gap: 12px; flex-wrap: wrap; align-items: center; }
    .usage-plan { font-size: 20px; font-weight: 800; letter-spacing: -0.2px; }
    .usage-meta { color: var(--muted); font-size: 13px; display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
    .usage-bars { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 14px; margin-top: 12px; }
    .usage-bar { padding: 12px; border: 1px solid rgba(15,23,42,0.06); border-radius: 14px; background: #f7f9fc; box-shadow: none; }
    .usage-bar .label { font-weight: 700; font-size: 13px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); display: flex; align-items: center; justify-content: space-between; gap: 8px; }
    .usage-bar .value { display: flex; justify-content: space-between; align-items: center; margin: 6px 0; font-weight: 800; font-size: 18px; }
    .usage-bar .meter { height: 8px; background: var(--panel-strong); border-radius: 999px; overflow: hidden; }
    .usage-bar .meter span {
      display: block;
      height: 100%;
      background: var(--accent-2);
    }
    .usage-bar .meter.ok span { background: var(--success); }
    .usage-bar .meter.warn span { background: var(--warning); }
    .usage-bar .meter.critical span { background: var(--danger); }
    .usage-bar .meter.neutral span { background: #94a3b8; }
    .usage-bar .meter.time { margin-top: 6px; background: rgba(15,23,42,0.05); }
    .usage-bar .meter.time span { background: linear-gradient(90deg, rgba(var(--accent-rgb),0.7), rgba(15,32,55,0.9)); }
    .usage-bar small { color: var(--muted); }
    .usage-credits { margin-top: 10px; padding: 12px; border-radius: 12px; border: 1px solid rgba(15,23,42,0.08); background: #fff; }
    .usage-error { color: var(--danger); font-weight: 700; margin-top: 10px; }
    .usage-history-btn { min-width: 0; padding: 6px 8px; line-height: 1; font-size: 13px; }
    .usage-history-modal { max-width: 860px; }
    .usage-history-modal .modal-head { display: flex; align-items: center; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
    .usage-history-chart { border: 1px solid rgba(15,23,42,0.08); background: #ffffff; border-radius: 16px; padding: 12px; min-height: 280px; box-shadow: none; }
    .usage-history-chart svg { width: 100%; height: 260px; }
    .usage-history-chart .grid line { stroke: rgba(15,23,42,0.08); stroke-width: 1; }
    .usage-history-chart .grid .tick { fill: var(--muted); font-size: 11px; }
    .usage-history-chart .line { fill: none; stroke: var(--accent-2); stroke-width: 3; }
    .usage-history-chart .area { fill: rgba(var(--accent-rgb),0.15); }
    .usage-history-chart .dot { fill: #ffffff; stroke: var(--accent-2); stroke-width: 2; }
    .cost-history-chart { padding-top: 2px; }
    .cost-history-chart .legend { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; margin: 4px 0 10px; font-size: 13px; }
    .cost-history-chart .legend-item { display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px; background: rgba(15,23,42,0.04); border: 1px solid rgba(15,23,42,0.12); }
    .cost-history-chart .legend-item.legend-total { border-color: rgba(49,46,129,0.35); background: rgba(49,46,129,0.08); }
    .cost-history-chart .legend-item strong { margin-left: 2px; }
    .cost-history-chart .swatch { width: 12px; height: 12px; border-radius: 999px; display: inline-block; }
    .cost-history-chart .line-input { stroke: #0ea5e9; }
    .cost-history-chart .line-output { stroke: #16a34a; }
    .cost-history-chart .line-cached { stroke: #f97316; }
    .cost-history-chart .line-total { stroke: #312e81; }
    .cost-history-chart .dot-input { stroke: #0ea5e9; }
    .cost-history-chart .dot-output { stroke: #16a34a; }
    .cost-history-chart .dot-cached { stroke: #f97316; }
    .cost-history-chart .dot-total { stroke: #312e81; }
    .cost-history-chart .dot-input,
    .cost-history-chart .dot-output,
    .cost-history-chart .dot-cached,
    .cost-history-chart .dot-total { fill: #ffffff; stroke-width: 2; }
    .cost-history-chart .cost-chart-shell { position: relative; margin-bottom: 12px; }
    .cost-history-chart .cost-chart-shell svg { width: 100%; height: 260px; display: block; border-radius: 14px; background: linear-gradient(180deg, rgba(255,255,255,0.8), rgba(255,255,255,0.4)); }
    .cost-history-chart .cost-chart-overlay { position: absolute; inset: 0; cursor: crosshair; }
    .cost-history-chart .cost-chart-crosshair { position: absolute; top: 0; bottom: 0; width: 2px; background: rgba(15,23,42,0.25); pointer-events: none; }
    .cost-history-chart .cost-chart-tooltip { position: absolute; min-width: 190px; max-width: 240px; background: rgba(255,255,255,0.96); border: 1px solid rgba(15,23,42,0.12); border-radius: 12px; padding: 10px 12px; pointer-events: none; box-shadow: 0 18px 36px rgba(15,23,42,0.16); }
    .cost-history-chart .cost-tooltip-date { font-size: 11px; letter-spacing: 0.08em; text-transform: uppercase; color: var(--muted); font-weight: 700; }
    .cost-history-chart .cost-tooltip-total { font-size: 20px; font-weight: 900; margin: 4px 0; }
    .cost-history-chart .cost-tooltip-breakdown { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 6px; font-size: 12px; }
    .cost-history-chart .cost-tooltip-breakdown span { display: block; color: var(--muted); font-size: 10px; text-transform: uppercase; letter-spacing: 0.08em; }
    .cost-history-chart .cost-tooltip-breakdown strong { display: block; color: var(--text); font-weight: 700; }
    .cost-history-chart .cost-detail { border: 1px solid rgba(15,23,42,0.1); border-radius: 18px; padding: 16px 18px; background: rgba(255,255,255,0.94); box-shadow: inset 0 1px 0 rgba(15,23,42,0.04); display: flex; flex-direction: column; gap: 12px; }
    .cost-history-chart .cost-detail-head { display: flex; flex-wrap: wrap; gap: 12px; justify-content: space-between; align-items: flex-start; }
    .cost-history-chart .cost-detail-date { font-size: 12px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); font-weight: 700; }
    .cost-history-chart .cost-detail-total { font-size: 30px; font-weight: 900; letter-spacing: -0.3px; color: var(--text); }
    .cost-history-chart .cost-detail-note { font-size: 13px; color: var(--muted); align-self: flex-end; }
    .cost-history-chart .cost-detail-chips { display: flex; flex-wrap: wrap; gap: 12px; }
    .cost-history-chart .cost-detail-chip { flex: 1 1 200px; padding: 12px 14px; border-radius: 14px; border: 1px solid rgba(15,23,42,0.12); background: #fff; box-shadow: inset 0 1px 0 rgba(15,23,42,0.04); }
    .cost-history-chart .cost-detail-chip span { font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); font-weight: 700; }
    .cost-history-chart .cost-detail-chip strong { display: block; font-size: 18px; font-weight: 800; margin: 4px 0; }
    .cost-history-chart .cost-detail-chip small { font-size: 12px; color: var(--muted); }
    .cost-history-chart .cost-detail-chip[data-series="input"] { border-color: rgba(14,165,233,0.4); }
    .cost-history-chart .cost-detail-chip[data-series="output"] { border-color: rgba(22,163,74,0.4); }
    .cost-history-chart .cost-detail-chip[data-series="cached"] { border-color: rgba(249,115,22,0.4); }
    .cost-history-chart .cost-table-wrap { margin-top: 18px; border: 1px solid rgba(15,23,42,0.12); border-radius: 16px; overflow-y: auto; max-height: 360px; }
    .cost-history-chart .cost-table { width: 100%; border-collapse: collapse; font-size: 13px; }
    .cost-history-chart .cost-table thead th { position: sticky; top: 0; background: rgba(15,23,42,0.04); padding: 10px 12px; text-align: left; font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); }
    .cost-history-chart .cost-table tbody td { padding: 12px; border-top: 1px solid rgba(15,23,42,0.08); vertical-align: top; }
    .cost-history-chart .cost-table tbody tr { cursor: pointer; transition: background 0.15s ease; }
    .cost-history-chart .cost-table tbody tr:hover { background: rgba(14,165,233,0.08); }
    .cost-history-chart .cost-table tbody tr.is-active { background: rgba(14,165,233,0.12); box-shadow: inset 3px 0 0 #0ea5e9; }
    .cost-history-chart .cost-table tbody tr:focus-visible { outline: 2px solid #0ea5e9; outline-offset: -2px; }
    .cost-history-chart .cost-table td strong { display: block; font-size: 14px; font-weight: 800; }
    .cost-history-chart .cost-table td small { display: block; font-size: 11px; color: var(--muted); margin-top: 2px; }
    .cost-history-chart .cost-table .tokens-col { text-align: right; white-space: nowrap; }
    .cost-history-chart .cost-table-date { font-weight: 700; }
    .cost-history-chart .line-emphasis { stroke-width: 3; }
    .cost-history-chart .dot-emphasis { stroke-width: 3; }
    .cost-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; margin-top: 12px; }
    .cost-card { padding: 14px; border-radius: 18px; border: 1px solid rgba(15,23,42,0.08); background: #ffffff; box-shadow: 0 10px 25px rgba(15,23,42,0.06); display: flex; flex-direction: column; gap: 6px; min-height: 170px; }
    .cost-card .label { font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); font-weight: 700; }
    .cost-card .value { font-size: 20px; font-weight: 800; letter-spacing: -0.2px; margin: 4px 0; }
    .cost-card .stat-line { color: var(--text); font-weight: 700; font-size: 14px; }
    .cost-card .stat-line.strong { font-size: 15px; }
    .cost-card small { color: var(--muted); display: block; margin-top: auto; }
    .cost-card.total {
      position: relative;
      overflow: hidden;
      background: linear-gradient(135deg, rgba(var(--accent-rgb),0.15), rgba(255,255,255,0.9));
      border-color: var(--accent-ring);
      box-shadow: 0 25px 60px rgba(var(--accent-rgb),0.2);
    }
    .cost-card.total::after { content: ''; position: absolute; inset: 0; background: radial-gradient(160px 160px at 90% -10%, rgba(var(--accent-rgb),0.15), transparent); opacity: 0.8; pointer-events: none; }
    .cost-card .total-head { display: flex; align-items: center; justify-content: space-between; gap: 10px; }
    .cost-card .total-kicker {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text);
      font-weight: 800;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .cost-card .total-kicker .total-icon-btn {
      border: none;
      background: transparent;
      padding: 0;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    .cost-card .total-kicker .total-icon-btn:focus-visible {
      outline: 2px solid var(--accent-2);
      outline-offset: 2px;
    }
    .cost-card .total-kicker .total-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      border-radius: 6px;
      background: rgba(255,255,255,0.85);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
      font-size: 12px;
      line-height: 1;
    }
    .cost-card .total-main { display: flex; align-items: baseline; gap: 8px; margin: 6px 0 10px; position: relative; z-index: 1; }
    .cost-card .total-amount { font-size: 30px; font-weight: 900; letter-spacing: -0.3px; color: var(--text); }
    .cost-card .total-sub { color: var(--text); opacity: 0.8; font-weight: 700; }
    .cost-card .total-breakdown { display: flex; flex-wrap: wrap; gap: 8px; position: relative; z-index: 1; margin-top: auto; }
    .cost-card .cost-chip { display: inline-flex; align-items: center; justify-content: space-between; gap: 10px; padding: 8px 10px; border-radius: 10px; border: 1px solid rgba(15,23,42,0.12); background: rgba(15,23,42,0.04); backdrop-filter: blur(2px); box-shadow: inset 0 1px 0 rgba(15,23,42,0.06); min-width: 0; flex: 1 1 120px; }
    .cost-card .cost-chip span { font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); font-weight: 700; }
    .cost-card .cost-chip strong { font-size: 16px; font-weight: 800; letter-spacing: -0.1px; color: var(--text); }

    @media (max-width: 960px) {
      .content { padding: 16px 12px 52px; }
      .topbar { margin: 0 0 10px; padding: 10px 0; grid-template-columns: 1fr; position: sticky; top: 0; }
      .action-line { justify-content: flex-start; }
      .panel-actions { flex-direction: column; align-items: stretch; }
      .panel-actions input,
      .panel-actions select,
      button { width: 100%; }
      .table-wrap { overflow-x: auto; }
      table { min-width: 0; }
      thead { display: none; }
      tbody tr { display: block; margin-bottom: 12px; background: rgba(15,23,42,0.08); border-radius: 12px; box-shadow: var(--shadow); padding: 12px; }
      tbody td { display: flex; justify-content: space-between; padding: 8px 6px; }
      tbody td::before { content: attr(data-label); font-weight: 600; color: var(--muted); margin-right: 12px; }
    }

    .toggle {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      user-select: none;
      color: var(--muted);
      font-weight: 600;
    }

    .toggle input {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle .track {
      position: relative;
      width: 50px;
      height: 28px;
      background: rgba(15,23,42,0.12);
      border: 1px solid rgba(15,23,42,0.18);
      border-radius: 999px;
      box-shadow: inset 0 1px 3px rgba(15,23,42,0.12);
      transition: all 0.18s ease;
    }

    .toggle .thumb {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: linear-gradient(135deg, #18263b, #2f6dac);
      box-shadow: 0 4px 10px rgba(15,23,42,0.12);
      transition: transform 0.18s ease, box-shadow 0.18s ease;
    }

    .toggle input:checked + .track {
      background: rgba(var(--accent-rgb), 0.28);
      border-color: rgba(var(--accent-rgb), 0.55);
    }

    .toggle input:checked + .track .thumb {
      transform: translateX(22px);
      box-shadow: 0 6px 14px rgba(15,23,42,0.18);
      background: linear-gradient(135deg, #1d4ed8, #2f6dac);
    }
    .state-toggle .track {
      background: rgba(255, 93, 122, 0.2);
      border-color: rgba(255, 93, 122, 0.45);
    }
    .state-toggle .toggle-text {
      color: var(--danger);
    }
    .state-toggle input:checked + .track {
      background: rgba(82, 242, 196, 0.2);
      border-color: rgba(82, 242, 196, 0.5);
    }
    .state-toggle input:checked ~ .toggle-text {
      color: var(--success);
    }
    .state-toggle input:checked + .track .thumb {
      background: linear-gradient(135deg, var(--success), #5efed3);
    }
    /* Host details */
    tbody tr.host-row { cursor: pointer; }
    tbody tr.host-row:hover { background: var(--table-hover); }
    .details-cell { text-align: right; }
    .details-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 10px;
      background: var(--accent-soft);
      color: var(--accent);
      font-weight: 700;
      font-size: 12px;
      border: 1px solid var(--accent-ring);
    }
    .details-chip::after { content: 'â€º'; font-weight: 800; }
    .host-detail-modal {
      max-width: 920px;
      max-height: calc(100vh - 80px);
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }
    .host-detail-head {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 16px;
    }
    .host-detail-head h3 { margin: 2px 0 6px; }
    .host-detail-head-actions { display: flex; align-items: center; gap: 8px; }
    .host-detail-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px;
      margin: 12px 0 6px;
    }
    .summary-card {
      padding: 12px;
      border: 1px solid rgba(15,23,42,0.08);
      border-radius: 14px;
      background: rgba(255,255,255,0.02);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.1);
    }
    .summary-card .label {
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
      color: var(--muted);
      font-weight: 700;
    }
    .summary-card .value {
      margin-top: 6px;
      font-size: 18px;
      font-weight: 800;
      letter-spacing: -0.2px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }
    .summary-card .meta { margin-top: 2px; color: var(--muted); font-size: 12px; }
    .kv-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
      gap: 10px;
    }
    .kv-row {
      display: grid;
      grid-template-columns: 160px 1fr;
      gap: 6px 14px;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid rgba(15,23,42,0.08);
      background: rgba(255,255,255,0.02);
    }
    .kv-key { font-weight: 700; letter-spacing: 0.02em; color: var(--text); }
    .kv-value { font-weight: 600; display: inline-flex; align-items: center; gap: 8px; flex-wrap: wrap; }
    .kv-desc { grid-column: 1 / span 2; color: var(--muted); font-size: 13px; }
    .kv-row-full { grid-column: 1 / -1; }
    .kv-row-full .kv-desc { grid-column: 1 / -1; }
    .kv-security { display: inline-flex; align-items: center; gap: 8px; flex-wrap: wrap; }
    .kv-version {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
    }
    .kv-version .version-block { display: inline-flex; align-items: center; gap: 6px; }
    .kv-version .version-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
      font-weight: 700;
    }
    .token-usage {
      width: 100%;
      border: 1px dashed rgba(var(--accent-rgb),0.45);
      border-radius: 12px;
      padding: 12px;
      background: linear-gradient(135deg, rgba(10,20,34,0.95), rgba(5,8,12,0.95));
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .token-usage-head {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }
    .token-usage-total {
      font-size: 18px;
      font-weight: 800;
      letter-spacing: -0.2px;
    }
    .token-usage-bars { display: flex; flex-direction: column; gap: 8px; width: 100%; }
    .token-usage-bar { display: grid; grid-template-columns: 74px 1fr auto; gap: 10px; align-items: center; width: 100%; }
    .token-usage-label {
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
      color: var(--muted);
      font-weight: 700;
    }
    .token-usage-track {
      position: relative;
      height: 10px;
      background: rgba(15,23,42,0.08);
      border-radius: 999px;
      overflow: hidden;
    }
    .token-usage-fill {
      position: absolute;
      inset: 0;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, #1d4ed8, #38bdf8);
    }
    .token-usage-input { background: linear-gradient(90deg, #0ea5e9, #38bdf8); }
    .token-usage-output { background: linear-gradient(90deg, #3b82f6, #6366f1); }
    .token-usage-cached { background: linear-gradient(90deg, #2563eb, #5eead4); }
    .token-usage-reasoning { background: linear-gradient(90deg, #f59e0b, #f97316); }
    .token-usage-count { font-weight: 700; font-size: 13px; }
    .token-usage-meta { font-size: 12px; }
    .host-detail-actions {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-top: 16px;
    }
    .host-toggle-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .host-toggle-row {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 14px 16px;
      border: 1px solid rgba(15,23,42,0.12);
      border-radius: 16px;
      background: rgba(15,23,42,0.03);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.8);
    }
    .host-toggle-left {
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 0;
      flex: 1;
    }
    .host-toggle-labels {
      display: flex;
      align-items: baseline;
      flex-wrap: wrap;
      gap: 8px;
    }
    .host-toggle-title {
      font-weight: 600;
      font-size: 14px;
    }
    .host-toggle-state {
      font-size: 12px;
      color: var(--muted);
    }
    .host-toggle-divider {
      font-size: 12px;
      color: var(--muted);
    }
    .host-toggle-row .toggle {
      margin: 0;
    }
    .host-toggle-disabled {
      opacity: 0.6;
    }
    .host-action-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: flex-end;
      gap: 10px;
    }
    .insecure-window-control {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 12px;
      border: 1px solid rgba(15,23,42,0.12);
      border-radius: 12px;
      padding: 14px 16px;
      background: rgba(15,23,42,0.03);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.8);
    }
    .insecure-window-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 18px;
    }
    .insecure-window-copy {
      margin: 0;
      font-size: 13px;
    }
    .insecure-window-value {
      font-weight: 700;
      font-size: 20px;
      letter-spacing: -0.5px;
    }
    .insecure-window-slider {
      width: 100%;
      accent-color: #10a37f;
    }
    .insecure-window-foot {
      margin: 0;
      font-size: 12px;
      color: var(--muted);
    }
    .host-modal-digests { display: flex; gap: 6px; flex-wrap: wrap; }
.digest-pill {
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  padding: 6px 8px;
  border-radius: 8px;
  border: 1px solid rgba(15,23,42,0.12);
  background: rgba(15,23,42,0.05);
  color: var(--text);
}

/* Shared nav */
.menu-line {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  margin: 6px 0 10px;
}
.menu-link {
  text-decoration: none;
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid rgba(15,23,42,0.12);
  background: rgba(255,255,255,0.03);
  color: var(--text);
  font-weight: 700;
  letter-spacing: -0.1px;
  transition: all 0.15s ease;
}
.menu-link:hover {
  border-color: rgba(var(--accent-rgb),0.45);
  transform: translateY(-1px);
}
.menu-link.active {
  background: var(--accent-gradient);
  color: #ecfff9;
  border-color: rgba(var(--accent-rgb),0.55);
  box-shadow: 0 18px 35px rgba(var(--accent-rgb),0.3);
}

/* Log page */
.logs-main {
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.log-panel .panel-head {
  align-items: flex-start;
}
.log-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}
#log-search {
  min-width: 220px;
}
#log-page-size {
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,0.12);
  background: rgba(15,23,42,0.05);
  color: var(--text);
  font-weight: 600;
}
.log-table-wrap table th.sortable {
  cursor: pointer;
  position: relative;
  user-select: none;
  padding-right: 18px;
}
.log-table-wrap table th.sortable::after {
  content: 'â†•';
  position: absolute;
  right: 6px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 11px;
  opacity: 0.35;
}
.log-table-wrap table th.sort-active::after {
  opacity: 1;
  color: var(--accent-2);
}
.log-table-wrap table th.sort-asc::after { content: 'â†‘'; }
.log-table-wrap table th.sort-desc::after { content: 'â†“'; }
#log-search {
  min-width: 220px;
  padding: 10px 14px;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,0.12);
  background: rgba(15,23,42,0.05);
  color: var(--text);
}
.badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 10px;
  border-radius: 10px;
  background: rgba(15,23,42,0.05);
  border: 1px solid rgba(15,23,42,0.12);
  font-weight: 700;
  min-width: 48px;
}
.host-chip {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.host-chip .host-name { font-weight: 700; letter-spacing: -0.1px; }
.token-total {
  font-weight: 800;
  font-size: 16px;
}
.token-breakdown {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 6px;
}
.token-chip {
  display: inline-flex;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 12px;
  background: rgba(15,23,42,0.04);
  border: 1px solid rgba(15,23,42,0.12);
}
.token-chip.token-input { background: rgba(14,165,233,0.14); border-color: rgba(14,165,233,0.35); }
.token-chip.token-output { background: rgba(34,197,94,0.14); border-color: rgba(34,197,94,0.35); }
.token-chip.token-cached { background: var(--accent-soft); border-color: var(--accent-ring); }
.token-chip.token-reason { background: rgba(255,208,103,0.12); border-color: rgba(255,208,103,0.35); }
.agents-preview {
  background: #0f172a;
  background: linear-gradient(145deg, #0f172a, #111827);
  color: #e5e7eb;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,0.2);
  padding: 14px 16px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.05);
  font-family: 'JetBrains Mono', monospace;
  font-size: 13px;
  min-height: 140px;
  max-height: 260px;
  overflow-y: auto;
  white-space: pre-wrap;
  word-break: break-word;
}
.agents-collapsed .agents-preview {
  display: none;
}
.group-row td {
  background: var(--frost);
  font-weight: 700;
  letter-spacing: -0.1px;
}
.group-toggle {
  background: transparent;
  border: none;
  color: var(--text);
  font-weight: 700;
  font-size: 14px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 4px;
}
.group-toggle:hover {
  color: var(--accent);
}
.prompts-collapsed .table-wrap {
  display: none;
}
.agents-preview .muted { color: rgba(229,231,235,0.7); }
    .payload-preview {
      background: #f1f4f9;
      border: 1px solid rgba(15,23,42,0.12);
      border-radius: 10px;
      padding: 8px 10px;
      display: inline-block;
      max-width: 380px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      font-family: 'JetBrains Mono', monospace;
      font-size: 12px;
    }
.log-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-top: 12px;
}
.log-pagination {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}
.page-indicator {
  font-weight: 700;
}
.loading-row td,
.empty-row td,
.error-row td {
  text-align: center;
  color: var(--muted);
  font-weight: 600;
}
.mono { font-family: 'JetBrains Mono', monospace; }
