:root {
      --bg: #f5f7f8;
      --panel: #ffffff;
      --panel-strong: #e7e9ed;
      --card: #ffffff;
      --card-strong: #f2f4f7;
      --border: #e7e9ed;
      --frost: #f7f7f8;
      --text: #0f172a;
      --muted: #6b7280;
      --accent: #10a37f;
      --accent-2: #0d8c6d;
      --danger: #e5484d;
      --success: #10a37f;
      --warning: #f59e0b;
      --shadow: 0 10px 26px rgba(15, 23, 42, 0.1);
      --table-row: #f3f8f6;
      --table-row-alt: #ffffff;
      --accent-soft: #e6f6f1;
      --accent-soft-2: #d5efe6;
      --accent-ring: rgba(16, 163, 127, 0.2);
      --surface-tint: linear-gradient(180deg, #f9fbfa 0%, #f3f7f5 100%);
      --table-header: linear-gradient(135deg, rgba(16, 163, 127, 0.12), rgba(13, 140, 109, 0.2));
      --table-hover: rgba(16, 163, 127, 0.08);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.5;
      position: relative;
      overflow-x: hidden;
    }
    .glow { display: none; }
    .app {
      min-height: 100vh;
      width: 100%;
      display: flex;
      justify-content: center;
      padding: 0 18px;
    }
    .sidebar { display: none; }
    .sidebar .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 28px;
      padding: 10px 12px;
      border-radius: 14px;
      background: var(--panel);
      border: 1px solid var(--border);
    }
    .avatar {
      width: 48px; height: 48px;
      border-radius: 16px;
      background: radial-gradient(circle at 30% 30%, #3ad6ff 0%, #1d4ed8 70%);
      display: grid;
      place-items: center;
      color: #e5f4ff;
      font-weight: 800;
      letter-spacing: -0.04em;
      box-shadow: 0 8px 30px rgba(58,214,255,0.35);
    }
    .brand-text { display: flex; flex-direction: column; gap: 2px; }
    .brand-text h1 { margin: 0; font-size: 18px; letter-spacing: 0.3px; }
    .brand-text span { color: var(--muted); font-size: 13px; }
    .nav-links { display: grid; gap: 6px; }
    .nav-link {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 14px;
      color: var(--text);
      text-decoration: none;
      border-radius: 12px;
      border: 1px solid transparent;
      background: transparent;
      transition: background 0.2s ease, border-color 0.2s ease;
      font-weight: 600;
      letter-spacing: 0.1px;
    }
    .nav-link:hover { background: var(--panel); border-color: var(--panel-strong); }
    .nav-link.active { background: linear-gradient(135deg, var(--accent-soft-2), var(--accent-soft)); border-color: var(--accent-ring); box-shadow: 0 8px 28px rgba(16,163,127,0.2); }
    .nav-icon {
      width: 14px; height: 14px; border-radius: 4px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 0 0 6px var(--accent-ring);
    }
    .content { padding: 32px 18px 56px; width: 100%; max-width: 1220px; margin: 0 auto; }
    .topbar {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 10px 14px;
      margin: 0 0 12px;
      padding: 12px 14px;
      max-width: 1220px;
      width: 100%;
      position: sticky;
      top: 0;
      z-index: 20;
      background: rgba(255,255,255,0.94);
      border-bottom: 1px solid var(--panel-strong);
      backdrop-filter: blur(14px);
      box-shadow: 0 10px 30px rgba(15,23,42,0.08);
    }
    .title-line { display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
    .title-line h2 { margin:0; font-size: 26px; letter-spacing: -0.2px; }
    .brand-mark {
      width: 32px; height: 32px;
      display: inline-block;
      background: url('openai-logo.svg') center/contain no-repeat;
    }
    .pill-ghost {
      background: rgba(255,255,255,0.12);
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 6px 12px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 13px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    #mtls.pill { align-self: center; }
    .action-line {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: flex-end;
    }
    .nav-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 14px;
      min-height: 40px;
      border-radius: 12px;
      border: 1px solid var(--panel-strong);
      background: #ffffff;
      color: #0f172a;
      font-weight: 800;
      letter-spacing: -0.2px;
      text-decoration: none;
      box-shadow: none;
      transition: transform 0.08s ease, box-shadow 0.12s ease, background 0.12s ease, border-color 0.12s ease, opacity 0.12s ease;
    }
    .nav-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 26px rgba(16,163,127,0.2);
      background: var(--accent);
      border-color: #0c7a4f;
    }
    .muted { color: var(--muted); font-size: 13px; }
    main.main { padding-bottom: 32px; }
    .grid { display: grid; gap: 14px; }
    .metrics { grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 18px;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }
    .stat-head { display:flex; justify-content: space-between; align-items:center; gap:10px; }
    .stat-label { color: var(--muted); font-size: 12px; text-transform: uppercase; letter-spacing: 0.08em; }
    .stat-badge {
      padding: 6px 10px;
      border-radius: 999px;
      background: #eef2f7;
      border: 1px solid var(--panel-strong);
      font-weight: 700;
      font-size: 12px;
      color: #111827;
    }
    .card .stat-value { font-size: 32px; font-weight: 800; margin: 6px 0; letter-spacing: -0.3px; }
    .card small { color: var(--muted); }
    .spark {
      position:absolute;
      right: 14px; bottom: 12px;
      width: 72px; height: 32px;
      opacity: 0.65;
    }
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 10px;
      margin-top: 12px;
    }
    .info-box {
      padding: 12px;
      border-radius: 12px;
      border: 1px solid var(--accent-ring);
      background: var(--accent-soft);
      box-shadow: 0 8px 20px rgba(16,163,127,0.12);
    }
    .info-label {
      color: var(--accent-2);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
      font-weight: 700;
    }
    .info-value {
      margin-top: 6px;
      font-weight: 800;
      font-size: 18px;
      letter-spacing: -0.2px;
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }
    .info-subtext {
      margin-top: 4px;
      color: var(--muted);
      font-size: 13px;
    }
    .ghost.info-btn {
      width: 36px;
      height: 32px;
      min-height: 32px;
      padding: 0;
      display: grid;
      place-items: center;
      font-size: 18px;
      line-height: 1;
      background: var(--card-strong);
      color: var(--text);
    }
    .ghost.info-btn:hover { background: var(--panel-strong); }
    .upgrade-notes {
      margin: 8px 0 12px;
      padding: 12px;
      background: var(--frost);
      border: 1px solid var(--panel-strong);
      border-radius: 10px;
      white-space: pre-wrap;
      max-height: 360px;
      overflow: auto;
    }
    .upgrade-notes.error { color: var(--danger); }
    .panel { margin-top: 20px; background: var(--panel); border-radius: 16px; border: 1px solid var(--panel-strong); box-shadow: var(--shadow); }
    .panel-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
      flex-wrap: wrap;
      border-bottom: 1px solid var(--panel-strong);
      padding: 16px 18px;
    }
    .panel-head h2 { margin: 0; font-size: 22px; letter-spacing: -0.2px; }
    .panel-actions { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .panel-actions input,
    .panel-actions select {
      background: rgba(255,255,255,0.08);
      border: 1px solid var(--panel-strong);
      color: var(--text);
      padding: 10px 14px;
      border-radius: 12px;
      font-size: 14px;
      min-width: 200px;
    }
    .panel-actions input:focus,
    .panel-actions select:focus { outline: 1px solid var(--accent); }
    button {
      border: 1px solid var(--panel-strong);
      border-radius: 10px;
      padding: 10px 16px;
      font-weight: 700;
      cursor: pointer;
      background: #0d8456;
      color: #ffffff;
      box-shadow: 0 8px 18px rgba(16,163,127,0.18);
      transition: transform 0.08s ease, box-shadow 0.12s ease, opacity 0.12s ease, background 0.12s ease, border-color 0.12s ease;
      min-height: 40px;
    }
    button:disabled { opacity: 0.6; cursor: not-allowed; box-shadow: none; }
    button:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 12px 26px rgba(16,163,127,0.2); background: var(--accent); border-color: #0c7a4f; }
    button.ghost {
      background: #ffffff;
      color: #0f172a;
      border: 1px solid var(--panel-strong);
      box-shadow: none;
    }
    .api-enabled {
      background: #d9f6e6;
      color: #0f5132;
      border-color: rgba(16,163,127,0.5);
      box-shadow: none;
    }
    .api-enabled:hover:not(:disabled) {
      background: #c3efd8;
      border-color: rgba(16,163,127,0.7);
      box-shadow: none;
    }
    .api-disabled {
      background: #fff6d9;
      color: #8a5300;
      border-color: #fcd34d;
      box-shadow: none;
    }
    .api-disabled:hover:not(:disabled) {
      background: #ffeeb4;
      border-color: #f59e0b;
      box-shadow: none;
    }
    .runner-accent {
      background: #0d8456;
      color: #ffffff;
      border-color: rgba(13,132,86,0.7);
      box-shadow: 0 8px 18px rgba(16,163,127,0.18);
    }
    .runner-accent:hover:not(:disabled) {
      background: var(--accent);
      border-color: #0c7a4f;
      box-shadow: 0 12px 26px rgba(16,163,127,0.2);
    }
    .runner-ghost {
      border-color: rgba(13,132,86,0.3);
      color: #0c7a4f;
    }
    .runner-log {
      background: #0b1521;
      color: #e2f3ff;
      border-radius: 12px;
      padding: 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      line-height: 1.5;
      max-height: 260px;
      overflow: auto;
      border: 1px solid rgba(16,163,127,0.2);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05);
      background-image: radial-gradient(circle at 20% 20%, rgba(16,163,127,0.12), transparent 40%),
        radial-gradient(circle at 80% 0%, rgba(13,132,86,0.18), transparent 45%);
    }
    .runner-log .line { display: block; margin: 0; padding: 2px 0; }
    .runner-log .line.ok { color: #22c55e; }
    .runner-log .line.warn { color: #f59e0b; }
    .runner-log .line.err { color: #f87171; }
    .runner-meta { display: grid; gap: 6px; margin-top: 10px; font-size: 14px; }
    .runner-meta .label { color: var(--muted); font-size: 12px; text-transform: uppercase; letter-spacing: 0.08em; }
    .runner-actions { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; margin: 10px 0 6px; }
    .runner-actions .ok-btn[aria-pressed="true"] { background: rgba(16,163,127,0.14); border-color: rgba(16,163,127,0.4); color: #0f5132; }
    .runner-actions .fail-btn[aria-pressed="true"] { background: rgba(229,72,77,0.14); border-color: rgba(229,72,77,0.35); color: #7f1d1d; }
    .runner-actions button { font-weight: 800; letter-spacing: 0.03em; }
    .runner-status-row { display: flex; gap: 8px; align-items: center; }
    .runner-status-row .muted { font-size: 13px; }
    button.secondary {
      background: #eef2f7;
      color: #0f172a;
      border: 1px solid var(--panel-strong);
      box-shadow: none;
    }
    button.danger {
      background: var(--danger);
      color: #ffffff;
      border-color: rgba(229,72,77,0.6);
      box-shadow: 0 8px 18px rgba(229,72,77,0.2);
    }
    .tiny-btn {
      padding: 7px 10px;
      font-size: 12px;
      border-radius: 10px;
      min-width: 0;
      line-height: 1.1;
    }
    .table-wrap { margin-top: 0; border-radius: 16px; overflow: hidden; border: 1px solid var(--accent-ring); background: var(--surface-tint); box-shadow: var(--shadow); }
    table { width: 100%; min-width: 960px; border-collapse: collapse; }
    thead { background: var(--table-header); border-bottom: 1px solid var(--accent-ring); }
    th, td { padding: 14px 12px; text-align: left; font-size: 13px; white-space: nowrap; }
    th { color: var(--accent-2); font-weight: 700; letter-spacing: 0.06em; text-transform: uppercase; font-size: 12px; }
    tbody tr { transition: background 0.12s ease, box-shadow 0.12s ease; background: var(--table-row-alt); }
    tbody tr:nth-child(odd) { background: var(--table-row); }
    tbody tr:hover { box-shadow: 0 6px 16px rgba(16,163,127,0.12); }
    tbody tr:not(.status-ok):not(.status-warning):not(.status-critical):hover { background: var(--table-hover); }
    .status-ok { background: linear-gradient(90deg, rgba(16,163,127,0.16), rgba(16,163,127,0.06)); }
    .status-ok:nth-child(even) { background: linear-gradient(90deg, rgba(13,132,86,0.22), rgba(13,132,86,0.08)); }
    .status-warning { background: linear-gradient(90deg, rgba(245,158,11,0.2), rgba(245,158,11,0.06)); }
    .status-warning:nth-child(even) { background: linear-gradient(90deg, rgba(217,119,6,0.24), rgba(217,119,6,0.08)); }
    .status-critical { background: linear-gradient(90deg, rgba(229,72,77,0.2), rgba(229,72,77,0.06)); }
    .status-critical:nth-child(even) { background: linear-gradient(90deg, rgba(190,40,45,0.24), rgba(190,40,45,0.08)); }
    .usage-plan.pro-plan { color: var(--success); font-weight: 800; letter-spacing: 0.02em; }
    .inline-cell { display: inline-flex; align-items: center; gap: 8px; white-space: nowrap; }
    .ip-toggle {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      margin: 0 4px 0 2px;
      border: none;
      background: none;
      font-size: 16px;
      cursor: pointer;
      line-height: 1;
      color: var(--text);
    }
    .ip-indicator { font-size: 16px; line-height: 1; opacity: 0.8; }
    .pill {
      padding: 6px 12px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 12px;
      color: #0f172a;
      border: 1px solid var(--panel-strong);
      background: #eef2f7;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .pill.success { color: #0b7c62; border-color: rgba(16,163,127,0.2); background: rgba(16,163,127,0.12); }
    .pill.error { color: var(--danger); border-color: rgba(229,72,77,0.25); background: rgba(229,72,77,0.12); }
    .status-pill {
      display: inline-flex;
      align-items: center;
      padding: 4px 10px;
      border-radius: 999px;
      font-weight: 700;
      text-transform: capitalize;
      gap: 6px;
      font-size: 12px;
      border: 1px solid transparent;
    }
    .status-pill::before {
      content: '';
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    .status-active { background: rgba(95,247,194,0.14); color: var(--success); border-color: rgba(95,247,194,0.35); }
    .status-active::before { background: var(--success); }
    .status-suspended { background: rgba(255,93,122,0.14); color: var(--danger); border-color: rgba(255,93,122,0.35); }
    .status-suspended::before { background: var(--danger); }
    .status-unknown { background: rgba(155,179,217,0.14); color: var(--muted); border-color: rgba(155,179,217,0.3); }
    .actions-cell { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; justify-content: flex-end; }
    .actions-cell button { padding: 9px 12px; font-size: 12px; }
    .chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 5px 10px;
      border-radius: 10px;
      font-size: 12px;
      font-weight: 700;
      border: 1px solid transparent;
      background: rgba(255,255,255,0.08);
    }
    code { background: rgba(0,0,0,0.35); padding: 2px 6px; border-radius: 6px; font-family: 'JetBrains Mono', 'SFMono-Regular', Consolas, monospace; font-size: 12px; color: var(--text); }
    .chip.ok { color: var(--success); border-color: rgba(95,247,194,0.35); background: rgba(95,247,194,0.12); }
    .chip.warn { color: var(--warning); border-color: rgba(255,200,87,0.35); background: rgba(255,200,87,0.12); }
    .chip.neutral { color: var(--muted); border-color: rgba(155,179,217,0.35); background: rgba(155,179,217,0.12); }
    .chip.pro { color: #0f5132; border-color: rgba(16,163,127,0.5); background: rgba(16,163,127,0.14); box-shadow: 0 6px 16px rgba(16,163,127,0.18); }
    .daily-note { font-size: 11px; color: var(--muted); margin-left: 6px; }
    .overline { margin: 0 0 4px; text-transform: uppercase; letter-spacing: 0.12em; font-size: 11px; }
    .chip-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 6px; }
    /* Slash commands table follows shared palette */
    #prompts-panel table thead tr {
      background: var(--table-header);
      border-bottom: 1px solid var(--accent-ring);
    }
    #prompts-panel table th {
      color: var(--accent-2);
      letter-spacing: 0.08em;
    }
    #prompts-panel tbody tr:nth-child(odd) { background: var(--table-row); }
    #prompts-panel tbody tr:nth-child(even) { background: var(--table-row-alt); }
    #prompts-panel tbody tr { border-bottom: 1px solid var(--panel-strong); }
    #prompts-panel tbody td code {
      background: rgba(16,163,127,0.08);
      color: var(--accent-2);
    }
    .error { color: var(--danger); font-weight: 700; }
    /* Modal */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(4,10,30,0.55);
      backdrop-filter: blur(4px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 20;
      padding: 24px;
    }
    .modal-backdrop.show { display: flex; }
    .modal {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 24px 70px rgba(6, 33, 71, 0.25);
      max-width: 520px;
      width: 100%;
      padding: 24px;
      color: #0f172a;
    }
    .modal h3 { margin: 0 0 8px; }
    .modal p { margin: 0 0 16px; color: #475569; }
    .modal .field { margin-bottom: 16px; display: flex; flex-direction: column; gap: 6px; }
    .modal input {
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
      font-size: 14px;
    }
    .modal input:focus { outline: 1px solid var(--accent); }
    .modal .actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 10px; }
    .seed-modal { border: 1px solid var(--border); }
    .seed-status {
      margin: 12px 0;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid var(--accent-ring);
      background: var(--accent-soft);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .seed-chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
      color: var(--text);
      letter-spacing: -0.01em;
    }
    .seed-chip .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--warning);
      box-shadow: 0 0 0 6px rgba(245, 158, 11, 0.15);
    }
    .seed-chip.ok { color: var(--accent-2); }
    .seed-chip.ok .dot {
      background: var(--accent);
      box-shadow: 0 0 0 6px rgba(16, 163, 127, 0.16);
    }
    .seed-chip.warn { color: var(--danger); }
    .seed-chip.warn .dot {
      background: var(--danger);
      box-shadow: 0 0 0 6px rgba(229, 72, 77, 0.18);
    }
    .command-box {
      background: rgba(0,0,0,0.6);
      color: #e2e8f0;
      padding: 14px;
      border-radius: 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      word-break: break-all;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }
    .copy-btn {
      border: 1px solid rgba(226,232,240,0.25);
      color: #e2e8f0;
      background: rgba(255,255,255,0.08);
      padding: 8px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 12px;
    }
    .cmd-text { flex: 1; }
    .chip small { color: var(--muted); font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; }
    /* Toggle */
    .toggle { display: none; }
    .host-cell { display: flex; flex-direction: column; gap: 4px; }
    .host-cell strong { font-size: 15px; }
    .token-cell { display: flex; flex-direction: column; gap: 6px; }
    .meter { width: 100%; height: 4px; border-radius: 999px; background: rgba(15,23,42,0.8); overflow: hidden; }
    .meter span { display: block; height: 100%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); }
    .digest-cell { display: flex; flex-direction: column; gap: 6px; }
    .empty-row td { text-align: center; padding: 40px 12px; color: var(--muted); font-size: 15px; }
    .usage-card { margin-top: 10px; }
    .usage-head { display: flex; justify-content: space-between; gap: 12px; flex-wrap: wrap; align-items: center; }
    .usage-plan { font-size: 20px; font-weight: 800; letter-spacing: -0.2px; }
    .usage-meta { color: var(--muted); font-size: 13px; display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
    .usage-bars { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 14px; margin-top: 12px; }
    .usage-bar { padding: 12px; border: 1px solid var(--panel-strong); border-radius: 12px; background: var(--frost); }
    .usage-bar .label { font-weight: 700; font-size: 13px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); display: flex; align-items: center; justify-content: space-between; gap: 8px; }
    .usage-bar .value { display: flex; justify-content: space-between; align-items: center; margin: 6px 0; font-weight: 800; font-size: 18px; }
    .usage-bar .meter { height: 8px; background: var(--panel-strong); border-radius: 999px; overflow: hidden; }
    .usage-bar .meter span {
      display: block;
      height: 100%;
      background: var(--accent-2);
    }
    .usage-bar .meter.ok span { background: #16a34a; }
    .usage-bar .meter.warn span { background: #f59e0b; }
    .usage-bar .meter.critical span { background: #ef4444; }
    .usage-bar .meter.neutral span { background: #94a3b8; }
    .usage-bar .meter.time { margin-top: 6px; background: rgba(0,0,0,0.05); }
    .usage-bar .meter.time span { background: linear-gradient(90deg, #64748b, #94a3b8); }
    .usage-bar small { color: var(--muted); }
    .usage-credits { margin-top: 10px; padding: 12px; border-radius: 12px; border: 1px solid var(--panel-strong); background: var(--card-strong); }
    .usage-error { color: var(--danger); font-weight: 700; margin-top: 10px; }
    .usage-history-btn { min-width: 0; padding: 6px 8px; line-height: 1; font-size: 13px; }
    .usage-history-modal { max-width: 860px; }
    .usage-history-modal .modal-head { display: flex; align-items: center; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
    .usage-history-chart { border: 1px solid var(--panel-strong); background: var(--surface-tint); border-radius: 14px; padding: 12px; min-height: 280px; }
    .usage-history-chart svg { width: 100%; height: 260px; }
    .usage-history-chart .grid line { stroke: rgba(15,23,42,0.08); stroke-width: 1; }
    .usage-history-chart .grid .tick { fill: #475569; font-size: 11px; }
    .usage-history-chart .line { fill: none; stroke: var(--accent-2); stroke-width: 3; }
    .usage-history-chart .area { fill: rgba(16,163,127,0.12); }
    .usage-history-chart .dot { fill: #0f172a; stroke: var(--accent-2); stroke-width: 2; }
    .cost-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 10px; margin-top: 10px; }
    .cost-card { padding: 12px; border-radius: 12px; border: 1px solid var(--panel-strong); background: #fff; box-shadow: inset 0 1px 0 rgba(255,255,255,0.6); }
    .cost-card .label { font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); font-weight: 700; }
    .cost-card .value { font-size: 20px; font-weight: 800; letter-spacing: -0.2px; margin: 4px 0; }
    .cost-card small { color: var(--muted); display: block; }
    .cost-card.total { background: linear-gradient(135deg, rgba(16,163,127,0.08), rgba(16,163,127,0.16)); border-color: rgba(16,163,127,0.3); }

    @media (max-width: 960px) {
      .content { padding: 16px 12px 52px; }
      .topbar { margin: 0 0 10px; padding: 10px 0; grid-template-columns: 1fr; position: sticky; top: 0; }
      .action-line { justify-content: flex-start; }
      .panel-actions { flex-direction: column; align-items: stretch; }
      .panel-actions input,
      .panel-actions select,
      button { width: 100%; }
      .table-wrap { overflow-x: auto; }
      table { min-width: 0; }
      thead { display: none; }
      tbody tr { display: block; margin-bottom: 12px; background: rgba(255,255,255,0.08); border-radius: 12px; box-shadow: var(--shadow); padding: 12px; }
      tbody td { display: flex; justify-content: space-between; padding: 8px 6px; }
      tbody td::before { content: attr(data-label); font-weight: 600; color: var(--muted); margin-right: 12px; }
    }

    .toggle {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      user-select: none;
      color: var(--muted);
      font-weight: 600;
    }

    .toggle input {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle .track {
      position: relative;
      width: 50px;
      height: 28px;
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 999px;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
      transition: all 0.18s ease;
    }

    .toggle .thumb {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: linear-gradient(135deg, #36d1dc, #5b86e5);
      box-shadow: 0 4px 10px rgba(0,0,0,0.25);
      transition: transform 0.18s ease, box-shadow 0.18s ease;
    }

    .toggle input:checked + .track {
      background: rgba(54, 209, 220, 0.25);
      border-color: rgba(54, 209, 220, 0.6);
    }

    .toggle input:checked + .track .thumb {
      transform: translateX(22px);
      box-shadow: 0 6px 14px rgba(0,0,0,0.3);
      background: linear-gradient(135deg, #5b86e5, #36d1dc);
    }
    .state-toggle .track {
      background: rgba(229, 72, 77, 0.18);
      border-color: rgba(229, 72, 77, 0.55);
    }
    .state-toggle .toggle-text {
      color: #b91c1c;
    }
    .state-toggle input:checked + .track {
      background: rgba(16, 163, 127, 0.2);
      border-color: rgba(16, 163, 127, 0.65);
    }
    .state-toggle input:checked ~ .toggle-text {
      color: #0f5132;
    }
    .state-toggle input:checked + .track .thumb {
      background: linear-gradient(135deg, #10a37f, #0d8c6d);
    }
    /* Host details */
    tbody tr.host-row { cursor: pointer; }
    tbody tr.host-row:hover { background: var(--table-hover); }
    .details-cell { text-align: right; }
    .details-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 10px;
      background: rgba(16,163,127,0.14);
      color: #0f5132;
      font-weight: 700;
      font-size: 12px;
      border: 1px solid rgba(16,163,127,0.25);
    }
    .details-chip::after { content: '›'; font-weight: 800; }
    .host-detail-modal { max-width: 920px; }
    .host-detail-head {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 16px;
    }
    .host-detail-head h3 { margin: 2px 0 6px; }
    .host-detail-head-actions { display: flex; align-items: center; gap: 8px; }
    .host-detail-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px;
      margin: 12px 0 6px;
    }
    .summary-card {
      padding: 12px;
      border: 1px solid var(--panel-strong);
      border-radius: 12px;
      background: var(--surface-tint);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
    }
    .summary-card .label {
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
      color: var(--muted);
      font-weight: 700;
    }
    .summary-card .value {
      margin-top: 6px;
      font-size: 18px;
      font-weight: 800;
      letter-spacing: -0.2px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }
    .summary-card .meta { margin-top: 2px; color: var(--muted); font-size: 12px; }
    .kv-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
      gap: 10px;
    }
    .kv-row {
      display: grid;
      grid-template-columns: 160px 1fr;
      gap: 6px 14px;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid var(--panel-strong);
      background: var(--frost);
    }
    .kv-key { font-weight: 700; letter-spacing: 0.02em; color: #0f172a; }
    .kv-value { font-weight: 600; display: inline-flex; align-items: center; gap: 8px; flex-wrap: wrap; }
    .kv-desc { grid-column: 1 / span 2; color: var(--muted); font-size: 13px; }
    .kv-row-full { grid-column: 1 / -1; }
    .kv-row-full .kv-desc { grid-column: 1 / -1; }
    .kv-security { display: inline-flex; align-items: center; gap: 8px; flex-wrap: wrap; }
    .kv-version {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
    }
    .kv-version .version-block { display: inline-flex; align-items: center; gap: 6px; }
    .kv-version .version-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
      font-weight: 700;
    }
    .token-usage {
      width: 100%;
      border: 1px dashed var(--panel-strong);
      border-radius: 12px;
      padding: 12px;
      background: linear-gradient(135deg, rgba(14,165,233,0.08), rgba(99,102,241,0.08));
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .token-usage-head {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }
    .token-usage-total {
      font-size: 18px;
      font-weight: 800;
      letter-spacing: -0.2px;
    }
    .token-usage-bars { display: flex; flex-direction: column; gap: 8px; width: 100%; }
    .token-usage-bar { display: grid; grid-template-columns: 74px 1fr auto; gap: 10px; align-items: center; width: 100%; }
    .token-usage-label {
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
      color: var(--muted);
      font-weight: 700;
    }
    .token-usage-track {
      position: relative;
      height: 10px;
      background: rgba(15,23,42,0.08);
      border-radius: 999px;
      overflow: hidden;
    }
    .token-usage-fill {
      position: absolute;
      inset: 0;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, #06b6d4, #6366f1);
    }
    .token-usage-input { background: linear-gradient(90deg, #0ea5e9, #22d3ee); }
    .token-usage-output { background: linear-gradient(90deg, #a855f7, #6366f1); }
    .token-usage-cached { background: linear-gradient(90deg, #10b981, #34d399); }
    .token-usage-reasoning { background: linear-gradient(90deg, #f59e0b, #f97316); }
    .token-usage-count { font-weight: 700; font-size: 13px; }
    .token-usage-meta { font-size: 12px; }
    .host-detail-actions { display: flex; gap: 10px; flex-wrap: wrap; justify-content: flex-end; margin-top: 12px; }
    .host-modal-digests { display: flex; gap: 6px; flex-wrap: wrap; }
.digest-pill {
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  padding: 6px 8px;
  border-radius: 8px;
  border: 1px solid var(--panel-strong);
  background: rgba(15,23,42,0.05);
  color: #0f172a;
}

/* Shared nav */
.menu-line {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  margin: 6px 0 10px;
}
.menu-link {
  text-decoration: none;
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid var(--panel-strong);
  background: rgba(15,23,42,0.04);
  color: var(--text);
  font-weight: 700;
  letter-spacing: -0.1px;
  transition: all 0.15s ease;
}
.menu-link:hover {
  border-color: rgba(14,165,233,0.4);
  transform: translateY(-1px);
}
.menu-link.active {
  background: linear-gradient(90deg, #0ea5e9, #6366f1);
  color: #fff;
  border-color: transparent;
  box-shadow: 0 8px 24px rgba(99,102,241,0.25);
}

/* Log page */
.logs-main {
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.log-panel .panel-head {
  align-items: flex-start;
}
.log-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}
#log-search {
  min-width: 220px;
}
#log-page-size {
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid var(--panel-strong);
  background: #fff;
  color: var(--text-strong);
  font-weight: 600;
}
.log-table-wrap table th.sortable {
  cursor: pointer;
  position: relative;
  user-select: none;
  padding-right: 18px;
}
.log-table-wrap table th.sortable::after {
  content: '↕';
  position: absolute;
  right: 6px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 11px;
  opacity: 0.35;
}
.log-table-wrap table th.sort-active::after {
  opacity: 1;
  color: #6366f1;
}
.log-table-wrap table th.sort-asc::after { content: '↑'; }
.log-table-wrap table th.sort-desc::after { content: '↓'; }
.badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 10px;
  border-radius: 10px;
  background: rgba(15,23,42,0.06);
  border: 1px solid var(--panel-strong);
  font-weight: 700;
  min-width: 48px;
}
.host-chip {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.host-chip .host-name { font-weight: 700; letter-spacing: -0.1px; }
.token-total {
  font-weight: 800;
  font-size: 16px;
}
.token-breakdown {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 6px;
}
.token-chip {
  display: inline-flex;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 12px;
  background: rgba(99,102,241,0.08);
  border: 1px solid rgba(99,102,241,0.15);
}
.token-chip.token-input { background: rgba(14,165,233,0.08); border-color: rgba(14,165,233,0.15); }
.token-chip.token-output { background: rgba(99,102,241,0.08); border-color: rgba(99,102,241,0.15); }
.token-chip.token-cached { background: rgba(16,185,129,0.08); border-color: rgba(16,185,129,0.15); }
.token-chip.token-reason { background: rgba(245,158,11,0.12); border-color: rgba(245,158,11,0.25); }
.payload-preview {
  background: rgba(15,23,42,0.04);
  border: 1px solid var(--panel-strong);
  border-radius: 10px;
  padding: 8px 10px;
  display: inline-block;
  max-width: 380px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
}
.log-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-top: 12px;
}
.log-pagination {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}
.page-indicator {
  font-weight: 700;
}
.loading-row td,
.empty-row td,
.error-row td {
  text-align: center;
  color: var(--muted);
  font-weight: 600;
}
.mono { font-family: 'JetBrains Mono', monospace; }
