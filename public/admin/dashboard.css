:root {
      --bg: #f5f7f8;
      --panel: #ffffff;
      --panel-strong: #e7e9ed;
      --card: #ffffff;
      --card-strong: #f2f4f7;
      --border: #e7e9ed;
      --frost: #f7f7f8;
      --text: #0f172a;
      --muted: #6b7280;
      --accent: #10a37f;
      --accent-2: #0d8c6d;
      --danger: #e5484d;
      --success: #10a37f;
      --warning: #f59e0b;
      --shadow: 0 10px 26px rgba(15, 23, 42, 0.1);
      --table-row: #f3f8f6;
      --table-row-alt: #ffffff;
      --accent-soft: #e6f6f1;
      --accent-soft-2: #d5efe6;
      --accent-ring: rgba(16, 163, 127, 0.2);
      --surface-tint: linear-gradient(180deg, #f9fbfa 0%, #f3f7f5 100%);
      --table-header: linear-gradient(135deg, rgba(16, 163, 127, 0.12), rgba(13, 140, 109, 0.2));
      --table-hover: rgba(16, 163, 127, 0.08);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.5;
      position: relative;
      overflow-x: hidden;
    }
    .glow { display: none; }
    .app {
      min-height: 100vh;
      width: 100%;
      display: flex;
      justify-content: center;
      padding: 0 18px;
    }
    .sidebar { display: none; }
    .sidebar .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 28px;
      padding: 10px 12px;
      border-radius: 14px;
      background: var(--panel);
      border: 1px solid var(--border);
    }
    .avatar {
      width: 48px; height: 48px;
      border-radius: 16px;
      background: radial-gradient(circle at 30% 30%, #3ad6ff 0%, #1d4ed8 70%);
      display: grid;
      place-items: center;
      color: #e5f4ff;
      font-weight: 800;
      letter-spacing: -0.04em;
      box-shadow: 0 8px 30px rgba(58,214,255,0.35);
    }
    .brand-text { display: flex; flex-direction: column; gap: 2px; }
    .brand-text h1 { margin: 0; font-size: 18px; letter-spacing: 0.3px; }
    .brand-text span { color: var(--muted); font-size: 13px; }
    .nav-links { display: grid; gap: 6px; }
    .nav-link {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 14px;
      color: var(--text);
      text-decoration: none;
      border-radius: 12px;
      border: 1px solid transparent;
      background: transparent;
      transition: background 0.2s ease, border-color 0.2s ease;
      font-weight: 600;
      letter-spacing: 0.1px;
    }
    .nav-link:hover { background: var(--panel); border-color: var(--panel-strong); }
    .nav-link.active { background: linear-gradient(135deg, var(--accent-soft-2), var(--accent-soft)); border-color: var(--accent-ring); box-shadow: 0 8px 28px rgba(16,163,127,0.2); }
    .nav-icon {
      width: 14px; height: 14px; border-radius: 4px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 0 0 6px var(--accent-ring);
    }
    .content { padding: 32px 18px 56px; width: 100%; max-width: 1220px; margin: 0 auto; }
    .topbar {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 10px 14px;
      margin: 0 0 12px;
      padding: 12px 14px;
      max-width: 1220px;
      width: 100%;
      position: sticky;
      top: 0;
      z-index: 20;
      background: rgba(255,255,255,0.94);
      border-bottom: 1px solid var(--panel-strong);
      backdrop-filter: blur(14px);
      box-shadow: 0 10px 30px rgba(15,23,42,0.08);
    }
    .title-line { display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
    .title-line h2 { margin:0; font-size: 26px; letter-spacing: -0.2px; }
    .brand-mark {
      width: 32px; height: 32px;
      display: inline-block;
      background: url('openai-logo.svg') center/contain no-repeat;
    }
    .pill-ghost {
      background: rgba(255,255,255,0.12);
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 6px 12px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 13px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    #mtls.pill { align-self: center; }
    .action-line {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: flex-end;
    }
    .nav-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 14px;
      min-height: 40px;
      border-radius: 12px;
      border: 1px solid var(--panel-strong);
      background: #ffffff;
      color: #0f172a;
      font-weight: 800;
      letter-spacing: -0.2px;
      text-decoration: none;
      box-shadow: none;
      transition: transform 0.08s ease, box-shadow 0.12s ease, background 0.12s ease, border-color 0.12s ease, opacity 0.12s ease;
    }
    .nav-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 26px rgba(16,163,127,0.2);
      background: var(--accent);
      border-color: #0c7a4f;
    }
    .muted { color: var(--muted); font-size: 13px; }
    main.main { padding-bottom: 32px; }
    .grid { display: grid; gap: 14px; }
    .metrics { grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 18px;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }
    .stat-head { display:flex; justify-content: space-between; align-items:center; gap:10px; }
    .stat-label { color: var(--muted); font-size: 12px; text-transform: uppercase; letter-spacing: 0.08em; }
    .stat-badge {
      padding: 6px 10px;
      border-radius: 999px;
      background: #eef2f7;
      border: 1px solid var(--panel-strong);
      font-weight: 700;
      font-size: 12px;
      color: #111827;
    }
    .card .stat-value { font-size: 32px; font-weight: 800; margin: 6px 0; letter-spacing: -0.3px; }
    .card small { color: var(--muted); }
    .spark {
      position:absolute;
      right: 14px; bottom: 12px;
      width: 72px; height: 32px;
      opacity: 0.65;
    }
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 10px;
      margin-top: 12px;
    }
    .info-box {
      padding: 12px;
      border-radius: 12px;
      border: 1px solid var(--accent-ring);
      background: var(--accent-soft);
      box-shadow: 0 8px 20px rgba(16,163,127,0.12);
    }
    .info-label {
      color: var(--accent-2);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
      font-weight: 700;
    }
    .info-value {
      margin-top: 6px;
      font-weight: 800;
      font-size: 18px;
      letter-spacing: -0.2px;
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }
    .info-subtext {
      margin-top: 4px;
      color: var(--muted);
      font-size: 13px;
    }
    .ghost.info-btn {
      width: 36px;
      height: 32px;
      min-height: 32px;
      padding: 0;
      display: grid;
      place-items: center;
      font-size: 18px;
      line-height: 1;
      background: var(--card-strong);
      color: var(--text);
    }
    .ghost.info-btn:hover { background: var(--panel-strong); }
    .upgrade-notes {
      margin: 8px 0 12px;
      padding: 12px;
      background: var(--frost);
      border: 1px solid var(--panel-strong);
      border-radius: 10px;
      white-space: pre-wrap;
      max-height: 360px;
      overflow: auto;
    }
    .upgrade-notes.error { color: var(--danger); }
    .panel { margin-top: 20px; background: var(--panel); border-radius: 16px; border: 1px solid var(--panel-strong); box-shadow: var(--shadow); }
    .panel-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
      flex-wrap: wrap;
      border-bottom: 1px solid var(--panel-strong);
      padding: 16px 18px;
    }
    .panel-head h2 { margin: 0; font-size: 22px; letter-spacing: -0.2px; }
    .panel-actions { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .panel-actions input,
    .panel-actions select {
      background: rgba(255,255,255,0.08);
      border: 1px solid var(--panel-strong);
      color: var(--text);
      padding: 10px 14px;
      border-radius: 12px;
      font-size: 14px;
      min-width: 200px;
    }
    .panel-actions input:focus,
    .panel-actions select:focus { outline: 1px solid var(--accent); }
    button {
      border: 1px solid var(--panel-strong);
      border-radius: 10px;
      padding: 10px 16px;
      font-weight: 700;
      cursor: pointer;
      background: #0d8456;
      color: #ffffff;
      box-shadow: 0 8px 18px rgba(16,163,127,0.18);
      transition: transform 0.08s ease, box-shadow 0.12s ease, opacity 0.12s ease, background 0.12s ease, border-color 0.12s ease;
      min-height: 40px;
    }
    button:disabled { opacity: 0.6; cursor: not-allowed; box-shadow: none; }
    button:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 12px 26px rgba(16,163,127,0.2); background: var(--accent); border-color: #0c7a4f; }
    button.ghost {
      background: #ffffff;
      color: #0f172a;
      border: 1px solid var(--panel-strong);
      box-shadow: none;
    }
    .api-enabled {
      background: #d9f6e6;
      color: #0f5132;
      border-color: rgba(16,163,127,0.5);
      box-shadow: none;
    }
    .api-enabled:hover:not(:disabled) {
      background: #c3efd8;
      border-color: rgba(16,163,127,0.7);
      box-shadow: none;
    }
    .api-disabled {
      background: #fff6d9;
      color: #8a5300;
      border-color: #fcd34d;
      box-shadow: none;
    }
    .api-disabled:hover:not(:disabled) {
      background: #ffeeb4;
      border-color: #f59e0b;
      box-shadow: none;
    }
    .runner-accent {
      background: #0d8456;
      color: #ffffff;
      border-color: rgba(13,132,86,0.7);
      box-shadow: 0 8px 18px rgba(16,163,127,0.18);
    }
    .runner-accent:hover:not(:disabled) {
      background: var(--accent);
      border-color: #0c7a4f;
      box-shadow: 0 12px 26px rgba(16,163,127,0.2);
    }
    .runner-ghost {
      border-color: rgba(13,132,86,0.3);
      color: #0c7a4f;
    }
    .runner-log {
      background: #0b1521;
      color: #e2f3ff;
      border-radius: 12px;
      padding: 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      line-height: 1.5;
      max-height: 260px;
      overflow: auto;
      border: 1px solid rgba(16,163,127,0.2);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05);
      background-image: radial-gradient(circle at 20% 20%, rgba(16,163,127,0.12), transparent 40%),
        radial-gradient(circle at 80% 0%, rgba(13,132,86,0.18), transparent 45%);
    }
    .runner-log .line { display: block; margin: 0; padding: 2px 0; }
    .runner-log .line.ok { color: #22c55e; }
    .runner-log .line.warn { color: #f59e0b; }
    .runner-log .line.err { color: #f87171; }
    .runner-meta { display: grid; gap: 6px; margin-top: 10px; font-size: 14px; }
    .runner-meta .label { color: var(--muted); font-size: 12px; text-transform: uppercase; letter-spacing: 0.08em; }
    .runner-actions { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; margin: 10px 0 6px; }
    .runner-actions .ok-btn[aria-pressed="true"] { background: rgba(16,163,127,0.14); border-color: rgba(16,163,127,0.4); color: #0f5132; }
    .runner-actions .fail-btn[aria-pressed="true"] { background: rgba(229,72,77,0.14); border-color: rgba(229,72,77,0.35); color: #7f1d1d; }
    .runner-actions button { font-weight: 800; letter-spacing: 0.03em; }
    .runner-status-row { display: flex; gap: 8px; align-items: center; }
    .runner-status-row .muted { font-size: 13px; }
    button.secondary {
      background: #eef2f7;
      color: #0f172a;
      border: 1px solid var(--panel-strong);
      box-shadow: none;
    }
    button.danger {
      background: var(--danger);
      color: #ffffff;
      border-color: rgba(229,72,77,0.6);
      box-shadow: 0 8px 18px rgba(229,72,77,0.2);
    }
    .tiny-btn {
      padding: 7px 10px;
      font-size: 12px;
      border-radius: 10px;
      min-width: 0;
      line-height: 1.1;
    }
    .table-wrap { margin-top: 0; border-radius: 16px; overflow: hidden; border: 1px solid var(--accent-ring); background: var(--surface-tint); box-shadow: var(--shadow); }
    table { width: 100%; min-width: 960px; border-collapse: collapse; }
    thead { background: var(--table-header); border-bottom: 1px solid var(--accent-ring); }
    th, td { padding: 14px 12px; text-align: left; font-size: 13px; white-space: nowrap; }
    th { color: var(--accent-2); font-weight: 700; letter-spacing: 0.06em; text-transform: uppercase; font-size: 12px; }
    .sort-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border: none;
      background: transparent;
      color: inherit;
      font: inherit;
      letter-spacing: inherit;
      text-transform: inherit;
      cursor: pointer;
      padding: 0;
    }
    .sort-btn .sort-indicator { font-size: 12px; opacity: 0.7; }
    .sort-btn.sorted { color: #0f172a; }
    .sort-btn.sorted .sort-indicator { opacity: 1; }
    .sort-btn:focus-visible { outline: 2px solid var(--accent-2); outline-offset: 3px; border-radius: 6px; }
    tbody tr { transition: background 0.12s ease, box-shadow 0.12s ease; background: var(--table-row-alt); }
    tbody tr:nth-child(odd) { background: var(--table-row); }
    tbody tr:hover { box-shadow: 0 6px 16px rgba(16,163,127,0.12); }
    tbody tr:not(.status-ok):not(.status-warning):not(.status-critical):hover { background: var(--table-hover); }
    .status-ok { background: linear-gradient(90deg, rgba(16,163,127,0.16), rgba(16,163,127,0.06)); }
    .status-ok:nth-child(even) { background: linear-gradient(90deg, rgba(13,132,86,0.22), rgba(13,132,86,0.08)); }
    .status-warning { background: linear-gradient(90deg, rgba(245,158,11,0.2), rgba(245,158,11,0.06)); }
    .status-warning:nth-child(even) { background: linear-gradient(90deg, rgba(217,119,6,0.24), rgba(217,119,6,0.08)); }
    .status-critical { background: linear-gradient(90deg, rgba(229,72,77,0.2), rgba(229,72,77,0.06)); }
    .status-critical:nth-child(even) { background: linear-gradient(90deg, rgba(190,40,45,0.24), rgba(190,40,45,0.08)); }
    .usage-plan.pro-plan { color: var(--success); font-weight: 800; letter-spacing: 0.02em; }
    .inline-cell { display: inline-flex; align-items: center; gap: 8px; white-space: nowrap; }
    .ip-toggle {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      margin: 0 4px 0 2px;
      border: none;
      background: none;
      font-size: 16px;
      cursor: pointer;
      line-height: 1;
      color: var(--text);
    }
    .ip-indicator { font-size: 16px; line-height: 1; opacity: 0.8; }
    .pill {
      padding: 6px 12px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 12px;
      color: #0f172a;
      border: 1px solid var(--panel-strong);
      background: #eef2f7;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .pill.success { color: #0b7c62; border-color: rgba(16,163,127,0.2); background: rgba(16,163,127,0.12); }
    .pill.error { color: var(--danger); border-color: rgba(229,72,77,0.25); background: rgba(229,72,77,0.12); }
    .status-pill {
      display: inline-flex;
      align-items: center;
      padding: 4px 10px;
      border-radius: 999px;
      font-weight: 700;
      text-transform: capitalize;
      gap: 6px;
      font-size: 12px;
      border: 1px solid transparent;
    }
    .status-pill::before {
      content: '';
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    .status-active { background: rgba(95,247,194,0.14); color: var(--success); border-color: rgba(95,247,194,0.35); }
    .status-active::before { background: var(--success); }
    .status-suspended { background: rgba(255,93,122,0.14); color: var(--danger); border-color: rgba(255,93,122,0.35); }
    .status-suspended::before { background: var(--danger); }
    .status-unknown { background: rgba(155,179,217,0.14); color: var(--muted); border-color: rgba(155,179,217,0.3); }
    .actions-cell { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; justify-content: flex-end; }
    .actions-cell button { padding: 9px 12px; font-size: 12px; }
    .chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 5px 10px;
      border-radius: 10px;
      font-size: 12px;
      font-weight: 700;
      border: 1px solid transparent;
      background: rgba(255,255,255,0.08);
    }
    code { background: rgba(0,0,0,0.35); padding: 2px 6px; border-radius: 6px; font-family: 'JetBrains Mono', 'SFMono-Regular', Consolas, monospace; font-size: 12px; color: var(--text); }
    .chip.ok { color: var(--success); border-color: rgba(95,247,194,0.35); background: rgba(95,247,194,0.12); }
    .chip.warn { color: var(--warning); border-color: rgba(255,200,87,0.35); background: rgba(255,200,87,0.12); }
    .chip.neutral { color: var(--muted); border-color: rgba(155,179,217,0.35); background: rgba(155,179,217,0.12); }
    .chip.pro { color: #0f5132; border-color: rgba(16,163,127,0.5); background: rgba(16,163,127,0.14); box-shadow: 0 6px 16px rgba(16,163,127,0.18); }
    .daily-note { font-size: 11px; color: var(--muted); margin-left: 6px; }
    .overline { margin: 0 0 4px; text-transform: uppercase; letter-spacing: 0.12em; font-size: 11px; }
    .chip-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 6px; }
    /* Slash commands table follows shared palette */
    #prompts-panel table thead tr {
      background: var(--table-header);
      border-bottom: 1px solid var(--accent-ring);
    }
    #prompts-panel table th {
      color: var(--accent-2);
      letter-spacing: 0.08em;
    }
    #prompts-panel tbody tr:nth-child(odd) { background: var(--table-row); }
    #prompts-panel tbody tr:nth-child(even) { background: var(--table-row-alt); }
    #prompts-panel tbody tr { border-bottom: 1px solid var(--panel-strong); }
    #prompts-panel tbody td code {
      background: rgba(16,163,127,0.08);
      color: var(--accent-2);
    }
    .error { color: var(--danger); font-weight: 700; }
    /* Modal */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(4,10,30,0.55);
      backdrop-filter: blur(4px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 20;
      padding: 24px;
    }
    .modal-backdrop.show { display: flex; }
    .modal {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 24px 70px rgba(6, 33, 71, 0.25);
      max-width: 520px;
      width: 100%;
      padding: 24px;
      color: #0f172a;
    }
    .modal h3 { margin: 0 0 8px; }
    .modal p { margin: 0 0 16px; color: #475569; }
    .modal .field { margin-bottom: 16px; display: flex; flex-direction: column; gap: 6px; }
    .modal input {
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
      font-size: 14px;
    }
    .modal input:focus { outline: 1px solid var(--accent); }
    .modal .actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 10px; }
    .seed-modal { border: 1px solid var(--border); }
    .seed-status {
      margin: 12px 0;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid var(--accent-ring);
      background: var(--accent-soft);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .seed-chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
      color: var(--text);
      letter-spacing: -0.01em;
    }
    .seed-chip .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--warning);
      box-shadow: 0 0 0 6px rgba(245, 158, 11, 0.15);
    }
    .seed-chip.ok { color: var(--accent-2); }
    .seed-chip.ok .dot {
      background: var(--accent);
      box-shadow: 0 0 0 6px rgba(16, 163, 127, 0.16);
    }
    .seed-chip.warn { color: var(--danger); }
    .seed-chip.warn .dot {
      background: var(--danger);
      box-shadow: 0 0 0 6px rgba(229, 72, 77, 0.18);
    }
    .command-box {
      background: rgba(0,0,0,0.6);
      color: #e2e8f0;
      padding: 14px;
      border-radius: 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 13px;
      word-break: break-all;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }
    .copy-btn {
      border: 1px solid rgba(226,232,240,0.25);
      color: #e2e8f0;
      background: rgba(255,255,255,0.08);
      padding: 8px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 12px;
    }
    .cmd-text { flex: 1; }
    .chip small { color: var(--muted); font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; }
    /* Toggle */
    .toggle { display: none; }
    .host-cell { display: flex; flex-direction: column; gap: 4px; }
    .host-cell strong { font-size: 15px; }
    .token-cell { display: flex; flex-direction: column; gap: 6px; }
    .meter { width: 100%; height: 4px; border-radius: 999px; background: rgba(15,23,42,0.8); overflow: hidden; }
    .meter span { display: block; height: 100%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); }
    .digest-cell { display: flex; flex-direction: column; gap: 6px; }
    .empty-row td { text-align: center; padding: 40px 12px; color: var(--muted); font-size: 15px; }
    .usage-card { margin-top: 10px; }
    .usage-head { display: flex; justify-content: space-between; gap: 12px; flex-wrap: wrap; align-items: center; }
    .usage-plan { font-size: 20px; font-weight: 800; letter-spacing: -0.2px; }
    .usage-meta { color: var(--muted); font-size: 13px; display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
    .usage-bars { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 14px; margin-top: 12px; }
    .usage-bar { padding: 12px; border: 1px solid var(--panel-strong); border-radius: 12px; background: var(--frost); }
    .usage-bar .label { font-weight: 700; font-size: 13px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); display: flex; align-items: center; justify-content: space-between; gap: 8px; }
    .usage-bar .value { display: flex; justify-content: space-between; align-items: center; margin: 6px 0; font-weight: 800; font-size: 18px; }
    .usage-bar .meter { height: 8px; background: var(--panel-strong); border-radius: 999px; overflow: hidden; }
    .usage-bar .meter span {
      display: block;
      height: 100%;
      background: var(--accent-2);
    }
    .usage-bar .meter.ok span { background: #16a34a; }
    .usage-bar .meter.warn span { background: #f59e0b; }
    .usage-bar .meter.critical span { background: #ef4444; }
    .usage-bar .meter.neutral span { background: #94a3b8; }
    .usage-bar .meter.time { margin-top: 6px; background: rgba(0,0,0,0.05); }
    .usage-bar .meter.time span { background: linear-gradient(90deg, #64748b, #94a3b8); }
    .usage-bar small { color: var(--muted); }
    .usage-credits { margin-top: 10px; padding: 12px; border-radius: 12px; border: 1px solid var(--panel-strong); background: var(--card-strong); }
    .usage-error { color: var(--danger); font-weight: 700; margin-top: 10px; }
    .usage-history-btn { min-width: 0; padding: 6px 8px; line-height: 1; font-size: 13px; }
    .usage-history-modal { max-width: 860px; }
    .usage-history-modal .modal-head { display: flex; align-items: center; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
    .usage-history-chart { border: 1px solid var(--panel-strong); background: var(--surface-tint); border-radius: 14px; padding: 12px; min-height: 280px; }
    .usage-history-chart svg { width: 100%; height: 260px; }
    .usage-history-chart .grid line { stroke: rgba(15,23,42,0.08); stroke-width: 1; }
    .usage-history-chart .grid .tick { fill: #475569; font-size: 11px; }
    .usage-history-chart .line { fill: none; stroke: var(--accent-2); stroke-width: 3; }
    .usage-history-chart .area { fill: rgba(16,163,127,0.12); }
    .usage-history-chart .dot { fill: #0f172a; stroke: var(--accent-2); stroke-width: 2; }
    .cost-history-chart { padding-top: 2px; }
    .cost-history-chart .legend { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; margin: 4px 0 10px; font-size: 13px; }
    .cost-history-chart .legend-item { display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px; background: rgba(15,23,42,0.04); border: 1px solid var(--panel-strong); }
    .cost-history-chart .legend-item strong { margin-left: 2px; }
    .cost-history-chart .swatch { width: 12px; height: 12px; border-radius: 999px; display: inline-block; }
    .cost-history-chart .line-input { stroke: #0ea5e9; }
    .cost-history-chart .line-output { stroke: #16a34a; }
    .cost-history-chart .line-cached { stroke: #f97316; }
    .cost-history-chart .dot-input { stroke: #0ea5e9; }
    .cost-history-chart .dot-output { stroke: #16a34a; }
    .cost-history-chart .dot-cached { stroke: #f97316; }
    .cost-history-chart .dot-input,
    .cost-history-chart .dot-output,
    .cost-history-chart .dot-cached { fill: #0f172a; stroke-width: 2; }
    .cost-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; margin-top: 12px; }
    .cost-card { padding: 14px; border-radius: 14px; border: 1px solid var(--panel-strong); background: #fff; box-shadow: inset 0 1px 0 rgba(255,255,255,0.6); display: flex; flex-direction: column; gap: 6px; min-height: 170px; }
    .cost-card .label { font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); font-weight: 700; }
    .cost-card .value { font-size: 20px; font-weight: 800; letter-spacing: -0.2px; margin: 4px 0; }
    .cost-card .stat-line { color: #0f172a; font-weight: 700; font-size: 14px; }
    .cost-card .stat-line.strong { font-size: 15px; }
    .cost-card small { color: var(--muted); display: block; margin-top: auto; }
    .cost-card.total { position: relative; overflow: hidden; background: radial-gradient(120% 120% at 12% 12%, rgba(16,163,127,0.2), rgba(16,163,127,0.05)), linear-gradient(135deg, rgba(16,163,127,0.08), rgba(16,163,127,0.16)); border-color: rgba(16,163,127,0.35); box-shadow: 0 12px 26px rgba(16,163,127,0.18); }
    .cost-card.total::after { content: ''; position: absolute; inset: 0; background: radial-gradient(160px 160px at 90% -10%, rgba(15,23,42,0.08), transparent); opacity: 0.7; pointer-events: none; }
    .cost-card .total-head { display: flex; align-items: center; justify-content: space-between; gap: 10px; }
    .cost-card .total-kicker {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #0f172a;
      font-weight: 800;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    .cost-card .total-kicker .total-icon-btn {
      border: none;
      background: transparent;
      padding: 0;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    .cost-card .total-kicker .total-icon-btn:focus-visible {
      outline: 2px solid var(--accent-2);
      outline-offset: 2px;
    }
    .cost-card .total-kicker .total-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      border-radius: 6px;
      background: rgba(15,23,42,0.08);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.7);
      font-size: 12px;
      line-height: 1;
    }
    .cost-card .total-main { display: flex; align-items: baseline; gap: 8px; margin: 6px 0 10px; position: relative; z-index: 1; }
    .cost-card .total-amount { font-size: 30px; font-weight: 900; letter-spacing: -0.3px; color: #0f172a; }
    .cost-card .total-sub { color: #0f172a; opacity: 0.8; font-weight: 700; }
    .cost-card .total-breakdown { display: flex; flex-wrap: wrap; gap: 8px; position: relative; z-index: 1; margin-top: auto; }
    .cost-card .cost-chip { display: inline-flex; align-items: center; justify-content: space-between; gap: 10px; padding: 8px 10px; border-radius: 10px; border: 1px solid rgba(15,23,42,0.08); background: rgba(255,255,255,0.75); backdrop-filter: blur(2px); box-shadow: inset 0 1px 0 rgba(255,255,255,0.8); min-width: 0; flex: 1 1 120px; }
    .cost-card .cost-chip span { font-size: 11px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); font-weight: 700; }
    .cost-card .cost-chip strong { font-size: 16px; font-weight: 800; letter-spacing: -0.1px; color: #0f172a; }

    @media (max-width: 960px) {
      .content { padding: 16px 12px 52px; }
      .topbar { margin: 0 0 10px; padding: 10px 0; grid-template-columns: 1fr; position: sticky; top: 0; }
      .action-line { justify-content: flex-start; }
      .panel-actions { flex-direction: column; align-items: stretch; }
      .panel-actions input,
      .panel-actions select,
      button { width: 100%; }
      .table-wrap { overflow-x: auto; }
      table { min-width: 0; }
      thead { display: none; }
      tbody tr { display: block; margin-bottom: 12px; background: rgba(255,255,255,0.08); border-radius: 12px; box-shadow: var(--shadow); padding: 12px; }
      tbody td { display: flex; justify-content: space-between; padding: 8px 6px; }
      tbody td::before { content: attr(data-label); font-weight: 600; color: var(--muted); margin-right: 12px; }
    }

    .toggle {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      user-select: none;
      color: var(--muted);
      font-weight: 600;
    }

    .toggle input {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle .track {
      position: relative;
      width: 50px;
      height: 28px;
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 999px;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
      transition: all 0.18s ease;
    }

    .toggle .thumb {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: linear-gradient(135deg, #36d1dc, #5b86e5);
      box-shadow: 0 4px 10px rgba(0,0,0,0.25);
      transition: transform 0.18s ease, box-shadow 0.18s ease;
    }

    .toggle input:checked + .track {
      background: rgba(54, 209, 220, 0.25);
      border-color: rgba(54, 209, 220, 0.6);
    }

    .toggle input:checked + .track .thumb {
      transform: translateX(22px);
      box-shadow: 0 6px 14px rgba(0,0,0,0.3);
      background: linear-gradient(135deg, #5b86e5, #36d1dc);
    }
    .state-toggle .track {
      background: rgba(229, 72, 77, 0.18);
      border-color: rgba(229, 72, 77, 0.55);
    }
    .state-toggle .toggle-text {
      color: #b91c1c;
    }
    .state-toggle input:checked + .track {
      background: rgba(16, 163, 127, 0.2);
      border-color: rgba(16, 163, 127, 0.65);
    }
    .state-toggle input:checked ~ .toggle-text {
      color: #0f5132;
    }
    .state-toggle input:checked + .track .thumb {
      background: linear-gradient(135deg, #10a37f, #0d8c6d);
    }
    /* Host details */
    tbody tr.host-row { cursor: pointer; }
    tbody tr.host-row:hover { background: var(--table-hover); }
    .details-cell { text-align: right; }
    .details-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 10px;
      background: rgba(16,163,127,0.14);
      color: #0f5132;
      font-weight: 700;
      font-size: 12px;
      border: 1px solid rgba(16,163,127,0.25);
    }
    .details-chip::after { content: '›'; font-weight: 800; }
    .host-detail-modal { max-width: 920px; }
    .host-detail-head {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 16px;
    }
    .host-detail-head h3 { margin: 2px 0 6px; }
    .host-detail-head-actions { display: flex; align-items: center; gap: 8px; }
    .host-detail-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px;
      margin: 12px 0 6px;
    }
    .summary-card {
      padding: 12px;
      border: 1px solid var(--panel-strong);
      border-radius: 12px;
      background: var(--surface-tint);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
    }
    .summary-card .label {
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
      color: var(--muted);
      font-weight: 700;
    }
    .summary-card .value {
      margin-top: 6px;
      font-size: 18px;
      font-weight: 800;
      letter-spacing: -0.2px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }
    .summary-card .meta { margin-top: 2px; color: var(--muted); font-size: 12px; }
    .kv-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
      gap: 10px;
    }
    .kv-row {
      display: grid;
      grid-template-columns: 160px 1fr;
      gap: 6px 14px;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid var(--panel-strong);
      background: var(--frost);
    }
    .kv-key { font-weight: 700; letter-spacing: 0.02em; color: #0f172a; }
    .kv-value { font-weight: 600; display: inline-flex; align-items: center; gap: 8px; flex-wrap: wrap; }
    .kv-desc { grid-column: 1 / span 2; color: var(--muted); font-size: 13px; }
    .kv-row-full { grid-column: 1 / -1; }
    .kv-row-full .kv-desc { grid-column: 1 / -1; }
    .kv-security { display: inline-flex; align-items: center; gap: 8px; flex-wrap: wrap; }
    .kv-version {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
    }
    .kv-version .version-block { display: inline-flex; align-items: center; gap: 6px; }
    .kv-version .version-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
      font-weight: 700;
    }
    .token-usage {
      width: 100%;
      border: 1px dashed var(--panel-strong);
      border-radius: 12px;
      padding: 12px;
      background: linear-gradient(135deg, rgba(14,165,233,0.08), rgba(99,102,241,0.08));
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .token-usage-head {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }
    .token-usage-total {
      font-size: 18px;
      font-weight: 800;
      letter-spacing: -0.2px;
    }
    .token-usage-bars { display: flex; flex-direction: column; gap: 8px; width: 100%; }
    .token-usage-bar { display: grid; grid-template-columns: 74px 1fr auto; gap: 10px; align-items: center; width: 100%; }
    .token-usage-label {
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
      color: var(--muted);
      font-weight: 700;
    }
    .token-usage-track {
      position: relative;
      height: 10px;
      background: rgba(15,23,42,0.08);
      border-radius: 999px;
      overflow: hidden;
    }
    .token-usage-fill {
      position: absolute;
      inset: 0;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, #06b6d4, #6366f1);
    }
    .token-usage-input { background: linear-gradient(90deg, #0ea5e9, #22d3ee); }
    .token-usage-output { background: linear-gradient(90deg, #a855f7, #6366f1); }
    .token-usage-cached { background: linear-gradient(90deg, #10b981, #34d399); }
    .token-usage-reasoning { background: linear-gradient(90deg, #f59e0b, #f97316); }
    .token-usage-count { font-weight: 700; font-size: 13px; }
    .token-usage-meta { font-size: 12px; }
    .host-detail-actions { display: flex; gap: 10px; flex-wrap: wrap; justify-content: flex-end; margin-top: 12px; }
    .host-modal-digests { display: flex; gap: 6px; flex-wrap: wrap; }
.digest-pill {
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
  padding: 6px 8px;
  border-radius: 8px;
  border: 1px solid var(--panel-strong);
  background: rgba(15,23,42,0.05);
  color: #0f172a;
}

/* Shared nav */
.menu-line {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  margin: 6px 0 10px;
}
.menu-link {
  text-decoration: none;
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid var(--panel-strong);
  background: rgba(15,23,42,0.04);
  color: var(--text);
  font-weight: 700;
  letter-spacing: -0.1px;
  transition: all 0.15s ease;
}
.menu-link:hover {
  border-color: rgba(14,165,233,0.4);
  transform: translateY(-1px);
}
.menu-link.active {
  background: linear-gradient(90deg, #0ea5e9, #6366f1);
  color: #fff;
  border-color: transparent;
  box-shadow: 0 8px 24px rgba(99,102,241,0.25);
}

/* Log page */
.logs-main {
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.log-panel .panel-head {
  align-items: flex-start;
}
.log-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}
#log-search {
  min-width: 220px;
}
#log-page-size {
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid var(--panel-strong);
  background: #fff;
  color: var(--text-strong);
  font-weight: 600;
}
.log-table-wrap table th.sortable {
  cursor: pointer;
  position: relative;
  user-select: none;
  padding-right: 18px;
}
.log-table-wrap table th.sortable::after {
  content: '↕';
  position: absolute;
  right: 6px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 11px;
  opacity: 0.35;
}
.log-table-wrap table th.sort-active::after {
  opacity: 1;
  color: #6366f1;
}
.log-table-wrap table th.sort-asc::after { content: '↑'; }
.log-table-wrap table th.sort-desc::after { content: '↓'; }
.badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 10px;
  border-radius: 10px;
  background: rgba(15,23,42,0.06);
  border: 1px solid var(--panel-strong);
  font-weight: 700;
  min-width: 48px;
}
.host-chip {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.host-chip .host-name { font-weight: 700; letter-spacing: -0.1px; }
.token-total {
  font-weight: 800;
  font-size: 16px;
}
.token-breakdown {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 6px;
}
.token-chip {
  display: inline-flex;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 12px;
  background: rgba(99,102,241,0.08);
  border: 1px solid rgba(99,102,241,0.15);
}
.token-chip.token-input { background: rgba(14,165,233,0.08); border-color: rgba(14,165,233,0.15); }
.token-chip.token-output { background: rgba(99,102,241,0.08); border-color: rgba(99,102,241,0.15); }
.token-chip.token-cached { background: rgba(16,185,129,0.08); border-color: rgba(16,185,129,0.15); }
.token-chip.token-reason { background: rgba(245,158,11,0.12); border-color: rgba(245,158,11,0.25); }
.payload-preview {
  background: rgba(15,23,42,0.04);
  border: 1px solid var(--panel-strong);
  border-radius: 10px;
  padding: 8px 10px;
  display: inline-block;
  max-width: 380px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-family: 'JetBrains Mono', monospace;
  font-size: 12px;
}
.log-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-top: 12px;
}
.log-pagination {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}
.page-indicator {
  font-weight: 700;
}
.loading-row td,
.empty-row td,
.error-row td {
  text-align: center;
  color: var(--muted);
  font-weight: 600;
}
.mono { font-family: 'JetBrains Mono', monospace; }

/* OpenAI dark theme overrides */
:root {
  --bg: #010409;
  --panel: #050b16;
  --panel-strong: #17233a;
  --card: #071126;
  --card-strong: #0c172c;
  --border: rgba(255, 255, 255, 0.08);
  --frost: rgba(8, 16, 32, 0.85);
  --text: #f2f5fb;
  --text-strong: #ffffff;
  --muted: #91a5c4;
  --accent: #18b27e;
  --accent-2: #0fa37a;
  --danger: #ff6d7c;
  --success: #68f2c5;
  --warning: #f6b95b;
  --shadow: 0 28px 70px rgba(2, 6, 18, 0.75);
  --table-row: rgba(8, 17, 33, 0.95);
  --table-row-alt: rgba(5, 12, 24, 0.98);
  --accent-soft: rgba(29, 210, 148, 0.12);
  --accent-soft-2: rgba(9, 103, 97, 0.32);
  --accent-ring: rgba(24, 178, 126, 0.5);
  --surface-tint: linear-gradient(180deg, rgba(6, 12, 25, 0.95) 0%, rgba(3, 7, 16, 0.98) 100%);
  --table-header: linear-gradient(135deg, rgba(15, 163, 123, 0.48), rgba(29, 106, 198, 0.2));
  --table-hover: rgba(24, 178, 126, 0.14);
  --radius-base: 14px;
  --radius-lg: 18px;
  --radius-xl: 28px;
  --panel-blur: 28px;
  --transition-snappy: 160ms cubic-bezier(0.22, 1, 0.36, 1);
  --transition-gentle: 260ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --focus-ring: 0 0 0 1px rgba(24, 178, 126, 0.8), 0 0 0 6px rgba(24, 178, 126, 0.2);
}

body {
  background:
    radial-gradient(circle at 15% -10%, rgba(24, 178, 126, 0.32), transparent 40%),
    radial-gradient(circle at 90% 0%, rgba(37, 124, 241, 0.3), transparent 45%),
    #010409;
  color: var(--text);
  color-scheme: dark;
  font-feature-settings: 'ss01' on, 'tnum' on, 'cv02' on;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  background-attachment: fixed;
}

::selection {
  background: rgba(24, 178, 126, 0.55);
  color: #010409;
}

* {
  scrollbar-width: thin;
  scrollbar-color: rgba(24, 178, 126, 0.7) rgba(5, 9, 18, 0.5);
}

::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: rgba(4, 9, 18, 0.65);
  border-radius: 999px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, rgba(24, 178, 126, 0.7), rgba(37, 124, 241, 0.5));
  border-radius: 999px;
  border: 2px solid rgba(4, 9, 18, 0.65);
}

:where(button, .nav-btn, .menu-link, .nav-link, .ghost, input, select, textarea, [tabindex]):focus-visible {
  outline: 2px solid rgba(24, 178, 126, 0.85);
  outline-offset: 3px;
  box-shadow: var(--focus-ring);
}

.glow {
  position: fixed;
  width: 420px;
  height: 420px;
  border-radius: 50%;
  filter: blur(90px);
  opacity: 0.35;
  pointer-events: none;
  z-index: 0;
  display: block;
}

.glow.glow-a {
  background: radial-gradient(circle, rgba(24, 178, 126, 0.55), transparent 70%);
  top: -160px;
  left: -120px;
}

.glow.glow-b {
  background: radial-gradient(circle, rgba(37, 124, 241, 0.5), transparent 70%);
  bottom: -200px;
  right: -160px;
}

.content,
.topbar,
.panel,
.card,
.table-wrap {
  position: relative;
  z-index: 1;
}

.card,
.panel,
.table-wrap,
.usage-bar,
.usage-credits,
.token-usage,
.summary-card,
.kv-row,
.cost-card,
.usage-history-chart,
.host-detail-summary .summary-card {
  background: rgba(4, 9, 18, 0.92);
  border-color: rgba(255, 255, 255, 0.08);
  box-shadow: var(--shadow);
}

.topbar {
  background: rgba(3, 8, 20, 0.92);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 24px 50px rgba(0, 0, 0, 0.65);
}

.pill,
.pill-ghost {
  background: rgba(255, 255, 255, 0.05);
  color: var(--text);
  border-color: rgba(255, 255, 255, 0.15);
}

.nav-link {
  color: var(--muted);
  border-color: rgba(255, 255, 255, 0.1);
  background: rgba(255, 255, 255, 0.02);
}

.nav-link:hover {
  color: var(--text);
  border-color: rgba(255, 255, 255, 0.25);
  background: rgba(255, 255, 255, 0.08);
}

.nav-link.active {
  color: var(--text-strong);
  background: linear-gradient(135deg, rgba(24, 178, 126, 0.45), rgba(37, 124, 241, 0.35));
  border-color: transparent;
  box-shadow: 0 18px 45px rgba(13, 122, 95, 0.4);
}

.nav-btn {
  background: linear-gradient(135deg, #0b8b67, #22c388);
  color: var(--text-strong);
  border: 1px solid rgba(24, 178, 126, 0.5);
  box-shadow: 0 18px 36px rgba(14, 130, 104, 0.45);
}

.nav-btn:hover {
  background: linear-gradient(135deg, #11a272, #2cdf9a);
}

button {
  background: linear-gradient(135deg, #0a805f, #1ec48f);
  border: 1px solid rgba(24, 178, 126, 0.45);
  color: var(--text-strong);
  box-shadow: 0 14px 30px rgba(10, 130, 100, 0.4);
}

button:hover:not(:disabled) {
  border-color: rgba(36, 214, 154, 0.7);
  box-shadow: 0 18px 40px rgba(10, 130, 100, 0.55);
}

button.ghost,
.ghost.info-btn,
.log-pagination .ghost {
  background: rgba(255, 255, 255, 0.05);
  color: var(--text);
  border-color: rgba(255, 255, 255, 0.18);
  box-shadow: none;
}

button.ghost:hover:not(:disabled) {
  background: rgba(255, 255, 255, 0.1);
}

button.secondary {
  background: rgba(255, 255, 255, 0.04);
  color: var(--text);
  border-color: rgba(255, 255, 255, 0.12);
}

button.danger {
  background: linear-gradient(135deg, #ff5c70, #e5484d);
  border-color: rgba(255, 92, 112, 0.5);
  box-shadow: 0 16px 38px rgba(255, 92, 112, 0.35);
}

.api-enabled {
  background: rgba(30, 205, 144, 0.15);
  border-color: rgba(30, 205, 144, 0.45);
  color: #6df6c7;
}

.api-disabled {
  background: rgba(248, 185, 91, 0.15);
  border-color: rgba(248, 185, 91, 0.45);
  color: #ffdca1;
}

.runner-accent {
  background: linear-gradient(135deg, #0a805f, #1ec48f);
  border-color: rgba(24, 178, 126, 0.4);
}

.runner-ghost {
  border-color: rgba(255, 255, 255, 0.2);
  color: var(--muted);
}

.runner-actions .ok-btn[aria-pressed="true"] {
  background: rgba(24, 178, 126, 0.18);
  border-color: rgba(24, 178, 126, 0.4);
  color: var(--text);
}

.runner-actions .fail-btn[aria-pressed="true"] {
  background: rgba(255, 109, 124, 0.18);
  border-color: rgba(255, 109, 124, 0.4);
  color: var(--danger);
}

.stat-badge {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.18);
  color: var(--text);
}

.info-box {
  background: linear-gradient(140deg, rgba(24, 178, 126, 0.18), rgba(3, 15, 35, 0.9));
  border-color: rgba(24, 178, 126, 0.45);
  box-shadow: 0 10px 30px rgba(13, 122, 95, 0.35);
}

.panel-actions input,
.panel-actions select {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.15);
}

.panel-actions input::placeholder {
  color: var(--muted);
}

.sort-btn.sorted {
  color: var(--text-strong);
}

.pill.success {
  color: var(--success);
  background: rgba(104, 242, 197, 0.12);
  border-color: rgba(104, 242, 197, 0.35);
}

.pill.error {
  color: var(--danger);
  background: rgba(255, 109, 124, 0.12);
  border-color: rgba(255, 109, 124, 0.35);
}

.chip {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.08);
  color: var(--text);
}

.chip.pro {
  background: linear-gradient(135deg, rgba(24, 178, 126, 0.2), rgba(37, 124, 241, 0.2));
  border-color: rgba(24, 178, 126, 0.4);
  color: var(--text-strong);
}

.badge {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.08);
  color: var(--text);
}

.modal {
  background: rgba(5, 11, 24, 0.98);
  color: var(--text);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 35px 90px rgba(0, 0, 0, 0.65);
}

.modal p {
  color: var(--muted);
}

.modal input {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.12);
  color: var(--text);
}

.command-box {
  background: rgba(1, 4, 9, 0.75);
  border: 1px solid rgba(255, 255, 255, 0.08);
  color: var(--text);
}

.copy-btn {
  border-color: rgba(255, 255, 255, 0.18);
  color: var(--text);
  background: rgba(255, 255, 255, 0.06);
}

.usage-bar .meter.time {
  background: rgba(255, 255, 255, 0.08);
}

.usage-history-chart .grid .tick,
.cost-history-chart .legend-item {
  color: var(--muted);
  fill: var(--muted);
}

.usage-history-chart .dot,
.cost-history-chart .dot-input,
.cost-history-chart .dot-output,
.cost-history-chart .dot-cached {
  fill: var(--card);
}

.cost-card {
  background: linear-gradient(150deg, rgba(7, 14, 30, 0.96), rgba(2, 5, 13, 0.94));
  color: var(--text);
  border-color: rgba(255, 255, 255, 0.08);
  box-shadow: 0 28px 60px rgba(0, 0, 0, 0.55);
}

.cost-card .stat-line,
.cost-card .total-kicker,
.cost-card .total-amount,
.cost-card .total-sub,
.cost-card .cost-chip strong {
  color: var(--text-strong);
}

.cost-card .cost-chip {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.12);
  color: var(--muted);
}

.cost-card.total {
  background: linear-gradient(135deg, rgba(24, 178, 126, 0.3), rgba(7, 10, 24, 0.95));
  border-color: rgba(24, 178, 126, 0.5);
}

.toggle .track {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.2);
}

.toggle input:checked + .track {
  background: rgba(25, 178, 126, 0.3);
  border-color: rgba(25, 178, 126, 0.6);
}

.toggle .thumb {
  background: linear-gradient(135deg, #23c48d, #16a37c);
}

.state-toggle .toggle-text {
  color: var(--danger);
}

.state-toggle input:checked ~ .toggle-text {
  color: var(--success);
}

.details-chip {
  background: rgba(24, 178, 126, 0.14);
  color: var(--text-strong);
  border-color: rgba(24, 178, 126, 0.35);
}

.kv-key,
.kv-value,
.host-cell strong,
.token-usage-total,
.token-usage-count,
.token-usage-meta,
.usage-plan,
.usage-meta,
.usage-bar .value {
  color: var(--text);
}

.digest-pill {
  background: rgba(255, 255, 255, 0.03);
  border-color: rgba(255, 255, 255, 0.12);
  color: var(--text);
}

.menu-link {
  background: rgba(255, 255, 255, 0.02);
  border-color: rgba(255, 255, 255, 0.1);
}

.menu-link.active {
  background: linear-gradient(135deg, rgba(24, 178, 126, 0.4), rgba(37, 124, 241, 0.3));
  border-color: transparent;
}

#log-page-size {
  background: rgba(4, 9, 18, 0.9);
  color: var(--text);
  border-color: rgba(255, 255, 255, 0.18);
}

.token-chip,
.token-chip.token-input,
.token-chip.token-output,
.token-chip.token-cached,
.token-chip.token-reason {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
  color: var(--text);
}

.payload-preview {
  background: rgba(4, 9, 18, 0.8);
  border-color: rgba(255, 255, 255, 0.1);
  color: var(--text);
}

.log-footer {
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  padding-top: 10px;
}

.logs-main .panel-head,
.panel-head {
  border-color: rgba(255, 255, 255, 0.08);
}

.panel-actions select,
.panel-actions input,
#log-page-size,
#log-search {
  color: var(--text);
}

/* 2025 layout + usability upgrades */
.content {
  padding: clamp(28px, 5vw, 56px) clamp(18px, 4vw, 48px) clamp(48px, 8vw, 92px);
  display: flex;
  flex-direction: column;
  gap: clamp(16px, 2vw, 32px);
}

main.main {
  display: flex;
  flex-direction: column;
  gap: clamp(14px, 2vw, 28px);
  padding-bottom: clamp(32px, 6vw, 90px);
}

.grid {
  gap: clamp(12px, 1.8vw, 26px);
}

.metrics {
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}

.card,
.panel,
.table-wrap,
.usage-bar,
.usage-credits,
.token-usage,
.summary-card,
.kv-row,
.cost-card,
.usage-history-chart,
.host-detail-summary .summary-card {
  border-radius: var(--radius-lg);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.card::after {
  content: '';
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  border: 1px solid rgba(255, 255, 255, 0.02);
  pointer-events: none;
}

.topbar,
.card,
.panel,
.table-wrap,
.usage-card,
.modal,
.menu-link,
.nav-link,
.nav-btn,
button,
.chip,
.pill,
.badge,
.toggle .track {
  transition: all var(--transition-snappy);
}

.table-wrap {
  overflow: hidden;
  border-radius: var(--radius-xl);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.table-wrap table {
  font-variant-numeric: tabular-nums;
}

.table-wrap table tbody td {
  overflow: hidden;
  text-overflow: ellipsis;
}

.table-wrap thead th {
  position: sticky;
  top: 0;
  background: linear-gradient(135deg, rgba(24, 178, 126, 0.35), rgba(4, 12, 26, 0.9));
  backdrop-filter: blur(12px);
  z-index: 2;
}

.panel-actions input,
.panel-actions select,
#log-search,
#log-page-size {
  min-height: 44px;
  font-weight: 600;
  letter-spacing: 0.02em;
  border-radius: var(--radius-base);
  padding: 10px 16px;
  appearance: none;
}

.panel-actions select,
#log-page-size {
  padding-right: 44px;
  background-image:
    linear-gradient(45deg, rgba(255, 255, 255, 0.8) 50%, transparent 50%),
    linear-gradient(135deg, rgba(255, 255, 255, 0.8) 50%, transparent 50%);
  background-position:
    calc(100% - 22px) center,
    calc(100% - 14px) center;
  background-size: 8px 8px;
  background-repeat: no-repeat;
}

#log-search::placeholder {
  color: rgba(255, 255, 255, 0.45);
}

.topbar {
  border-radius: var(--radius-xl);
  padding: clamp(12px, 2vw, 18px);
  gap: clamp(10px, 2vw, 20px);
}

.title-line h2 {
  font-size: clamp(22px, 2.6vw, 34px);
  letter-spacing: -0.01em;
}

.panel-head h2 {
  font-size: clamp(20px, 2vw, 28px);
}

.card .stat-value {
  font-size: clamp(26px, 3vw, 40px);
}

.usage-bars,
.info-grid,
.host-detail-summary,
.kv-grid {
  gap: clamp(10px, 2vw, 20px);
}

.runner-log,
.command-box,
.payload-preview {
  border-radius: var(--radius-base);
}

.menu-line {
  gap: clamp(6px, 1.8vw, 14px);
}

.menu-link {
  border-radius: var(--radius-base);
}

.log-table-wrap table th.sortable::after {
  opacity: 0.5;
}

.log-footer {
  flex-wrap: wrap;
}

@supports (backdrop-filter: blur(1px)) {
  .topbar,
  .card,
  .panel,
  .table-wrap,
  .usage-card,
  .modal,
  .runner-log,
  .command-box {
    backdrop-filter: blur(var(--panel-blur));
  }
}

@media (min-width: 1400px) {
  .metrics {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }
  .content {
    max-width: 1340px;
  }
}

@media (max-width: 720px) {
  .topbar {
    border-radius: var(--radius-lg);
  }
  .panel-actions input,
  .panel-actions select,
  #log-search,
  #log-page-size {
    min-height: 40px;
  }
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
